<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>PyGRITbx - Tutorial Series Part 2: No Pain No Gain, No Stress No Strain - Ragheed Huneineh</title><meta name=Description content="Shaft Profile Definition. Static and fatigue verification for shaft design."><meta property="og:url" content="https://ragheedhuneineh.com/posts/pygritbx_tutorial2/"><meta property="og:site_name" content="Ragheed Huneineh"><meta property="og:title" content="PyGRITbx - Tutorial Series Part 2: No Pain No Gain, No Stress No Strain"><meta property="og:description" content="Shaft Profile Definition. Static and fatigue verification for shaft design."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-02-15T13:00:00+02:00"><meta property="article:modified_time" content="2026-02-15T13:00:00+02:00"><meta property="article:tag" content="Machine Design"><meta property="og:image" content="https://ragheedhuneineh.com/profile.jpeg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ragheedhuneineh.com/profile.jpeg"><meta name=twitter:title content="PyGRITbx - Tutorial Series Part 2: No Pain No Gain, No Stress No Strain"><meta name=twitter:description content="Shaft Profile Definition. Static and fatigue verification for shaft design."><meta name=application-name content="Ragheed Huneineh"><meta name=apple-mobile-web-app-title content="Ragheed Huneineh"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://ragheedhuneineh.com/posts/pygritbx_tutorial2/><link rel=prev href=https://ragheedhuneineh.com/posts/pygrtibx_tutorial1/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"PyGRITbx - Tutorial Series Part 2: No Pain No Gain, No Stress No Strain","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/ragheedhuneineh.com\/posts\/pygritbx_tutorial2\/"},"genre":"posts","keywords":"Machine Design","wordcount":3107,"url":"https:\/\/ragheedhuneineh.com\/posts\/pygritbx_tutorial2\/","datePublished":"2026-02-15T13:00:00+02:00","dateModified":"2026-02-15T13:00:00+02:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Ragheed"},"description":"Shaft Profile Definition. Static and fatigue verification for shaft design."}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"light"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"light"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Ragheed Huneineh">Ragheed Huneineh</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/about/>About |</a><a class=menu-item href=/portfolio/> Portfolio |</a><a class=menu-item href=/posts/> Posts |</a><a class=menu-item href=/resume_ragheed_huneineh.pdf> Resume </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Ragheed Huneineh">Ragheed Huneineh</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/about/ title>About |</a><a class=menu-item href=/portfolio/ title>Portfolio |</a><a class=menu-item href=/posts/ title>Posts |</a><a class=menu-item href=/resume_ragheed_huneineh.pdf title>Resume</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">PyGRITbx - Tutorial Series Part 2: No Pain No Gain, No Stress No Strain</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Ragheed</a></span>&nbsp;<span class=post-category>included in <a href=/categories/mechanical-engineering/><i class="far fa-folder fa-fw" aria-hidden=true></i>Mechanical Engineering</a>&nbsp;<a href=/categories/programming-tutorial/><i class="far fa-folder fa-fw" aria-hidden=true></i>Programming Tutorial</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2026-02-15>2026-02-15</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;3107 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;15 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#outline>Outline</a></li><li><a href=#shaft-profile>Shaft Profile</a><ul><li><a href=#locating-corners>Locating Corners</a></li><li><a href=#refinements-and-fillets>Refinements and Fillets</a></li></ul></li><li><a href=#shaft-sections>Shaft Sections</a></li><li><a href=#static-verification>Static Verification</a></li><li><a href=#fatigue-verification>Fatigue Verification</a></li><li><a href=#tips-tricks-and-final-remarks>Tips, Tricks, and Final Remarks</a><ul><li><a href=#alternating-and-mean-stresses>Alternating and Mean Stresses</a></li><li><a href=#stress-concentration-factors>Stress Concentration Factors</a></li><li><a href=#fatigue-limit-correction-factors>Fatigue Limit Correction Factors</a></li><li><a href=#fatigue-limit-correction-for-shaft-a2>Fatigue Limit Correction for Shaft A2</a></li></ul></li><li><a href=#final-words>Final Words</a></li><li><a href=#references>References</a></li></ul></nav></div></div><div class=content id=content><h2 id=outline>Outline</h2><p>Hello and welcome to the second part of this tutorial series. In the previous part, we learnt how to:</p><ol><li>install <strong>PyGRITbx</strong> along with the tools required to work with it</li><li>define components that constitute a given gearbox</li><li>define interactions between components</li><li>calculate the forces exchanged between said components and the reaction forces produced by the bearings.</li></ol><p>In this part, we will take our previous results to:</p><ol><li>define a shaft profile based on the given technical drawing</li><li>calculate and plot internal loads and stresses on the defined shaft profile</li><li>perform static and fatigue verification by calculating the corresponding safety factors.</li></ol><p>Without further talk, let&rsquo;s get down to business.</p><h2 id=shaft-profile>Shaft Profile</h2><p>Recall the configuration of the gearbox from <a href=#figure-1 rel><strong>Figure 1</strong></a>.</p><figure id=figure-1><img src=figure1_gearbox_assembly.png alt="Gearbox Assembly" style=max-width:100%;height:auto><figcaption>Figure 1 - Gearbox Assembly</figcaption></figure><p>Our goal is to define the profile of shaft <strong>A2</strong> to be able to calculate the internall stresses along the axis of the shaft after having computed the internal loads. To achieve this, we refer to the technical drawing of shaft <strong>A2</strong> as portrayed in <a href=#figure-2 rel><strong>Figure 2</strong></a>.</p><figure id=figure-2><img src=figure2_shaftA2_technicalDrawing.png alt="Shaft A2 Technical Drawing" style=max-width:100%;height:auto><figcaption>Figure 2 - Shaft A2 Technical Drawing</figcaption></figure><h3 id=locating-corners>Locating Corners</h3><p>To define the shaft profile, we would need to know the radius of the shaft at every cross-section along its axis. Using the radius and axial location, we can specify the coordinates of certain points that we can locate on the technical drawing. These points would be the <em>corners</em> that define a radius change along the shaft&rsquo;s axis. For example, since <strong>A2</strong> rotates around the <strong>z-axis</strong> and this axis is pointing to the right, we start from the left most part of the shaft by locating the 4 points shown in <a href=#figure-3 rel><strong>Figure 3</strong></a>.</p><figure id=figure-3><img src=figure3_shaftA2_zoomedInLeft.png alt="Shaft A2 First Corners" style=max-width:100%;height:auto><figcaption>Figure 3 - Shaft A2 First Corners</figcaption></figure><p><strong>- P1</strong></p><p>It&rsquo;s clear that corner <strong>P1</strong> is located at location <strong>0 [mm]</strong> along the shaft&rsquo;s axis. What about the radius at which this corner is located? We can tell from section <strong>D-D</strong> (<a href=#figure-2 rel><strong>Figure 2</strong></a>) that the diameter corresponds to the notation <strong>M 35</strong>. This means that the diameter is equal to <strong>35 [mm]</strong>; thus, corresponding to a <strong>17.5 [mm]</strong> radius. However, this is true regarding corners <strong>P2</strong> and <strong>P3</strong> but not <strong>P1</strong> since there&rsquo;s a chamfer to get from corner <strong>P1</strong> to corner <strong>P2</strong>. The chamfer is specified to be of size <strong>1 [mm]</strong>. This means that corner <strong>P1</strong> is located at a radius equal to <strong>16.5 [mm]</strong>.</p><p>Therefore, <strong>P1</strong> is located at $\rArr (0, 16.5)$.</p><p><strong>- P2</strong></p><p>Due to the chamfer, the axial location of corner <strong>P2</strong> is equal to <strong>1 [mm]</strong>. The diameter at which it&rsquo;s located has been explained earlier and is equal to <strong>35 [mm]</strong>.</p><p>Therefore, <strong>P2</strong> is located at $\rArr (1, 17.5)$.</p><p><strong>- P3</strong></p><p>Corner <strong>P3</strong> is located along the same radius as corner <strong>P2</strong>. The axial location however can be seen as a dimension on the technical drawing set to <strong>46 [mm]</strong>. However, since corner <strong>P4</strong> is also located at that axial location, we will offset corner <strong>P3</strong> by <strong>0.1 [mm]</strong> to the left so as to locate it axially at <strong>45.9 [mm]</strong>.</p><p>Therefore, <strong>P3</strong> is located at $\rArr (45.9, 17.5)$.</p><p><strong>- P4</strong></p><p>The axial location of corner <strong>P4</strong> is <strong>46 [mm]</strong> as specified by the axial dimension on the technical drawing. The diameter is also shown, <strong>40 [mm]</strong>, corresponding to a radius equal to <strong>20 [mm]</strong>.</p><p>Therefore, <strong>P4</strong> is located at $\rArr (46, 20)$.</p><p>By continuing in this manner, we can define 2 numpy arrays: the first specifying all the points&rsquo; axial locations and, the second, all their corresponding radii as shown in the following code block:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Define Radii and Axial Locations</span>
</span></span><span class=line><span class=cl><span class=n>radii</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>33</span><span class=p>,</span> <span class=mi>35</span><span class=p>,</span>    <span class=mi>35</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span>    <span class=mi>40</span><span class=p>,</span>  <span class=mi>34</span><span class=p>,</span>    <span class=mi>34</span><span class=p>,</span>    <span class=mi>32</span><span class=p>,</span>   <span class=mi>32</span><span class=p>,</span>  <span class=mi>31</span><span class=p>])</span> <span class=o>/</span> <span class=mi>2</span> 
</span></span><span class=line><span class=cl><span class=n>alocs</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span> <span class=mi>0</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span>  <span class=mf>45.9</span><span class=p>,</span> <span class=mi>46</span><span class=p>,</span> <span class=mf>132.9</span><span class=p>,</span> <span class=mi>133</span><span class=p>,</span> <span class=mf>158.4</span><span class=p>,</span> <span class=mf>158.5</span><span class=p>,</span>  <span class=mi>222</span><span class=p>,</span> <span class=mi>223</span><span class=p>])</span>
</span></span></code></pre></div><p>To define and check the profile, you can run the following code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Define a Shaft Profile for Trial</span>
</span></span><span class=line><span class=cl><span class=n>trial</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>ShaftProfile</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;trial&#34;</span><span class=p>,</span> <span class=n>radii</span><span class=o>=</span><span class=n>radii</span><span class=p>,</span> <span class=n>locs</span><span class=o>=</span><span class=n>alocs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Plot Defined Profile</span>
</span></span><span class=line><span class=cl><span class=n>trial</span><span class=o>.</span><span class=n>plotProfile</span><span class=p>()</span>
</span></span></code></pre></div><p>This should produce the plot seen in <a href=#figure-4 rel><strong>Figure 4</strong></a>.</p><figure id=figure-4><img src=figure4_shaftA2_trialProfile.png alt="Shaft A2 Trial Profile" style=max-width:100%;height:auto><figcaption>Figure 4 - Shaft A2 Trial Profile</figcaption></figure><p>I would be more than happy to inform you that this is almost all it takes to define the <em>general</em> profile of the shaft. However, it&rsquo;s specified in this project that for <strong>static verification</strong>, sections where there&rsquo;s a keyseat should be considered with a diameter equal to the nominal diameter stated in the technical drawing minus the depth of the keyseat!</p><p>Hence, this requirement presents us with new corners and the proper radii and locations should be defined as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Define Radii and Axial Locations with Keyseats</span>
</span></span><span class=line><span class=cl><span class=n>static_radii</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>33</span><span class=p>,</span> <span class=mi>35</span><span class=p>,</span>   <span class=mi>35</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span>   <span class=mi>30</span><span class=p>,</span> <span class=mi>35</span><span class=p>,</span>   <span class=mi>35</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span>    <span class=mi>40</span><span class=p>,</span>  <span class=mi>34</span><span class=p>,</span>    <span class=mi>34</span><span class=p>,</span>    <span class=mi>32</span><span class=p>,</span>    <span class=mi>32</span><span class=p>,</span>    <span class=mi>27</span><span class=p>,</span>    <span class=mi>27</span><span class=p>,</span>    <span class=mi>32</span><span class=p>,</span>  <span class=mi>32</span><span class=p>,</span>  <span class=mi>31</span><span class=p>])</span> <span class=o>/</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>static_alocs</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span> <span class=mi>0</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span> <span class=mf>11.9</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mf>39.9</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span> <span class=mf>45.9</span><span class=p>,</span> <span class=mi>46</span><span class=p>,</span> <span class=mf>132.9</span><span class=p>,</span> <span class=mi>133</span><span class=p>,</span> <span class=mf>158.4</span><span class=p>,</span> <span class=mf>158.5</span><span class=p>,</span> <span class=mf>178.4</span><span class=p>,</span> <span class=mf>178.5</span><span class=p>,</span> <span class=mf>208.4</span><span class=p>,</span> <span class=mf>208.5</span><span class=p>,</span> <span class=mi>222</span><span class=p>,</span> <span class=mi>223</span><span class=p>])</span>
</span></span></code></pre></div><p>We can then define and plot the <strong>static_profile</strong> similar to the previous definition of the trial profile.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Define a Shaft Profile for Static Verification</span>
</span></span><span class=line><span class=cl><span class=n>static_profile</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>ShaftProfile</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;Static Profile&#34;</span><span class=p>,</span> <span class=n>radii</span><span class=o>=</span><span class=n>static_radii</span><span class=p>,</span> <span class=n>locs</span><span class=o>=</span><span class=n>static_alocs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Plot Defined Profile</span>
</span></span><span class=line><span class=cl><span class=n>static_profile</span><span class=o>.</span><span class=n>plotProfile</span><span class=p>()</span>
</span></span></code></pre></div><p>This will procduce the profile shown in <a href=#figure-5 rel><strong>Figure 5</strong></a>.</p><figure id=figure-5><img src=figure5_shaftA2_staicProfile.png alt="Shaft A2 Static Profile" style=max-width:100%;height:auto><figcaption>Figure 5 - Shaft A2 Static Profile</figcaption></figure><h3 id=refinements-and-fillets>Refinements and Fillets</h3><p>Our current definition of the shaft profile is coarse. This means that any calculations performed along the shaft&rsquo;s axis won&rsquo;t be distributed properly along the axis but only on those <em>corners</em> that we have defined earlier. We need a fine profile with more points interpolated between the defined corners to have a precise representation of the profile whenever we need it to perform certain calculations along its axis.</p><p>Luckily, <strong>PyGRITbx</strong> has the feature that refines a profile based on a given <em>delta</em> separating one point from another along the shaft&rsquo;s axis. Small values of <em>delta</em> allow for a finer profile with more precise calculations at the cost of memory and speed. By default, <em>delta</em> is set to <strong>0.1 [mm]</strong>. To refine the profile, use the code in the following block:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Refine Static Profile</span>
</span></span><span class=line><span class=cl><span class=n>static_profile_refined</span> <span class=o>=</span> <span class=n>static_profile</span><span class=o>.</span><span class=n>refineProfile</span><span class=p>(</span><span class=n>delta</span><span class=o>=</span><span class=mf>0.1</span><span class=p>)</span>
</span></span></code></pre></div><p>Now that we have a refined profile, we can add fillets as shown in the technical drawing. Why are fillets important? Because stresses are calculated based on the cross-sectional properties. If we don&rsquo;t take into consideration the change in those properties due to the change in diameter caused by the fillets, we would be missing out on valuable information regarding <em>how</em> the trend of these stresses changes along the shaft&rsquo;s axis.</p><p>To define a fillet, we need the following information:</p><ol><li><strong>radius</strong>: this is simply the radius of the fillet and must be in <strong>[mm]</strong></li><li><strong>zOff</strong>: this is the axial location of the center of the circle the fillet is part of (<strong>[mm]</strong>)</li><li><strong>dOff</strong>: this is the radial location of the center of the circle the fillet is part of (<strong>[mm]</strong>)</li><li><strong>quadrant</strong>: an array specifying one or more quadrants of the circle the fillet is part of (<a href=#figure-6 rel><strong>Figure 6</strong></a>)</li></ol><figure id=figure-6><img src=figure6_filletQuadrants.png alt="Fillet Quadrants" style=max-width:60%;height:auto><figcaption>Figure 6 - Fillet Quadrants</figcaption></figure><p>From detail <strong>F-F</strong> in <a href=#figure-2 rel><strong>Figure 2</strong></a>, we can see that there&rsquo;s a fillet of radius <strong>1 [mm]</strong> belonging to quadrant <strong>2</strong> at an axial location equal to <strong>45 [mm]</strong> and a radial location equal to <strong>18.5 [mm]</strong>. Therefore we can simply add this fillet to the static profile using the following piece of code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Add First Fillet to Static Profile</span>
</span></span><span class=line><span class=cl><span class=n>static_profile_refined</span><span class=o>.</span><span class=n>addFillet</span><span class=p>(</span><span class=n>radius</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>quadrant</span><span class=o>=</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span> <span class=n>zOff</span><span class=o>=</span><span class=mi>45</span><span class=p>,</span> <span class=n>dOff</span><span class=o>=</span><span class=mf>18.5</span><span class=p>)</span>
</span></span></code></pre></div><p>Similarly we can locate the second fillet shown in detail <strong>G-G</strong> except that this one belongs to qudrant <strong>1</strong>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Add Second Fillet to Static Profile</span>
</span></span><span class=line><span class=cl><span class=n>static_profile_refined</span><span class=o>.</span><span class=n>addFillet</span><span class=p>(</span><span class=n>radius</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>quadrant</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=n>zOff</span><span class=o>=</span><span class=mi>134</span><span class=p>,</span> <span class=n>dOff</span><span class=o>=</span><span class=mi>18</span><span class=p>)</span>
</span></span></code></pre></div><p>Finally, we can add the profile to the shaft object:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Add Static Profile to Shaft A2</span>
</span></span><span class=line><span class=cl><span class=n>A2</span><span class=o>.</span><span class=n>addProfile</span><span class=p>(</span><span class=n>profile</span><span class=o>=</span><span class=n>static_profile_refined</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=shaft-sections>Shaft Sections</h2><p>The last step before proceeding with static analysis is defining the shaft sections. These are the given sections in the techinal drawing: <em><strong>V1</strong></em>, <em><strong>V2</strong></em>, and <em><strong>V3</strong></em>. Sections are imperative to locate potentially critical locations at which you might suspect the component to fail (in this case the shaft). Moreover, we can include in the analysis the notch sensitivity and geometrical stress concentration factors on said sections to consider material properties, surface finish, and the topology of the shaft!</p><p>Defining a section is a relatively easy task in <strong>PyGRITbx</strong>. All you need is:</p><ol><li><strong>name</strong>: to act as a label when plotting</li><li><strong>loc</strong>: axial location of the section along the shaft&rsquo;s rotational axis</li><li><strong>d</strong>: the diameter of the shaft at the specified section</li><li><strong>Ra</strong>: surface roughness of the shaft at the specified section</li><li><strong>material</strong>: the material of the shaft</li></ol><p><strong>- V1</strong></p><p>Therefore, to define section <strong>V1</strong>, you execute the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Section V1 Definition</span>
</span></span><span class=line><span class=cl><span class=n>V1</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>ShaftSection</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;V1&#34;</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=mi>26</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>Ra</span><span class=o>=</span><span class=mf>0.8</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>shaftMaterial</span><span class=p>)</span>
</span></span></code></pre></div><p>Note that section <strong>V1</strong> is in the middle of a keyseat. In the project description, it&rsquo;s specified that the stress concentration raiser $\mathbf{K_f}$ is equal to <strong>1.6</strong> for <em>Bending Load</em> and equal to <strong>2.0</strong> for *<em>Torsional Load</em>. Therefore, in addition to the section definition we need to execute the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Section V1 Stress Concentration Raiser</span>
</span></span><span class=line><span class=cl><span class=n>V1</span><span class=o>.</span><span class=n>appendKf</span><span class=p>(</span><span class=n>Kf</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.6</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>]),</span> <span class=n>loadType</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=s2>&#34;Bending&#34;</span><span class=p>,</span> <span class=s2>&#34;Torsion&#34;</span><span class=p>]))</span>
</span></span></code></pre></div><p><strong>- V2</strong></p><p>Similarly, we can define section <strong>V2</strong>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Section V2 Definition</span>
</span></span><span class=line><span class=cl><span class=n>V2</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>ShaftSection</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;V2&#34;</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=mi>46</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>Ra</span><span class=o>=</span><span class=mf>0.8</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>shaftMaterial</span><span class=p>)</span>
</span></span></code></pre></div><p>Given that there&rsquo;s a fillet and a shoulder at section <strong>V2</strong>, we&rsquo;d need to define the characteristics of the notch sensitivity as well as the geometric stress raiser. This is simply done as shown in the following block:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Section V2 Notch Sensitivity and Geometric Stress Rasier</span>
</span></span><span class=line><span class=cl><span class=n>V2</span><span class=o>.</span><span class=n>addNotchSensitivity</span><span class=p>(</span><span class=n>notchRadius</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>sigma_u</span><span class=o>=</span><span class=n>shaftMaterial</span><span class=o>.</span><span class=n>sigma_u</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>V2</span><span class=o>.</span><span class=n>addGeometricStressRaiser</span><span class=p>(</span><span class=n>r2d</span><span class=o>=</span><span class=mi>1</span><span class=o>/</span><span class=mi>35</span><span class=p>,</span> <span class=n>D2d</span><span class=o>=</span><span class=mi>40</span><span class=o>/</span><span class=mi>35</span><span class=p>)</span>
</span></span></code></pre></div><p>For the notch sensitivity $\mathbf{q}$, <strong>PyGRITbx</strong> uses the graph shown in <a href=#figure-7 rel><strong>Figure 7</strong></a> to get the proper value.</p><figure id=figure-7><img src=figure7_notchSensitivityGraph.png alt="Notch Sensitivity Graph" style=max-width:80%;height:auto><figcaption>Figure 7 - Notch Sensitivity Graph</figcaption></figure><p>For the geometric stress concentration factor $\mathbf{K_t}$, the toolbox uses the set of graphs in <a href=#figure-8 rel><strong>Figure 8</strong></a> to get the proper value for each type of load.</p><figure id=figure-8><img src=figure8_geometricStressConcentrationFactorGraph.png alt="Geometric Stress Concentration Factor Graph" style=max-width:80%;height:auto><figcaption>Figure 8 - Geometric Stress Concentration Factor Graph</figcaption></figure><p>The geometric stress raiser is then calculated according to the following equation:</p><p>$$
K_f = 1 + q * (K_t - 1)
$$</p><p><strong>- V3</strong></p><p>Similar to section <strong>V2</strong>, section <strong>V3</strong> is defined along with a notch sensitivity and a geometric stress raiser.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Section V3 Definition</span>
</span></span><span class=line><span class=cl><span class=n>V3</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>ShaftSection</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;V3&#34;</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=mi>133</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>Ra</span><span class=o>=</span><span class=mf>0.8</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>shaftMaterial</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Section V3 Notch Sensitivity and Geometric Stress Raiser</span>
</span></span><span class=line><span class=cl><span class=n>V3</span><span class=o>.</span><span class=n>addNotchSensitivity</span><span class=p>(</span><span class=n>notchRadius</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>sigma_u</span><span class=o>=</span><span class=n>shaftMaterial</span><span class=o>.</span><span class=n>sigma_u</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>V3</span><span class=o>.</span><span class=n>addGeometricStressRaiser</span><span class=p>(</span><span class=n>r2d</span><span class=o>=</span><span class=mi>1</span><span class=o>/</span><span class=mi>34</span><span class=p>,</span> <span class=n>D2d</span><span class=o>=</span><span class=mi>40</span><span class=o>/</span><span class=mi>34</span><span class=p>)</span>
</span></span></code></pre></div><p>Once all sections are properly defined, we can proceed by adding them to the shaft they belong to.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Add Sections to Shaft A2</span>
</span></span><span class=line><span class=cl><span class=n>userSections</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=n>V1</span><span class=p>,</span> <span class=n>V2</span><span class=p>,</span> <span class=n>V3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>A2</span><span class=o>.</span><span class=n>addSections</span><span class=p>(</span><span class=n>sections</span><span class=o>=</span><span class=n>userSections</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=static-verification>Static Verification</h2><p>At this point, the shaft profile has been defined and the proper sections along its axis have been located with their corresponding characteristics. Now, we can proceed by performing the static verification on the shaft. To do that we simply call the function <code>.performStaticVerification()</code> on the shaft object. <strong>PyGRITbx</strong> will then proceed to calculate the internal loads along the axis of the shaft and will ask you whether you want to plot them. Answer <strong>y</strong> if you want them to be plotted (this is the case here). The toolbox will then calculate the internal stresses along the shaft&rsquo;s axis based on the cross-sectional properties and the previously calculated internal loads. It will then ask you whether you would like to plot these stresses; answer <strong>y</strong> if you want them to be plotted (again, this is the case here). You can simply answer <strong>n</strong> if you don&rsquo;t want the internal loads or the internal stresses to be plotted.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Perform Static Verification on Shaft A2</span>
</span></span><span class=line><span class=cl><span class=n>A2</span><span class=o>.</span><span class=n>performStaticVerification</span><span class=p>(</span><span class=n>RF</span><span class=o>=</span><span class=n>RF</span><span class=p>,</span> <span class=n>profile</span><span class=o>=</span><span class=n>A2</span><span class=o>.</span><span class=n>profiles</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span></span></code></pre></div><p>Executing the code above and answering <strong>y</strong> on the 2 prompts will produce 10 graphs: 5 with internal loads and 5 with their corresponding internal stresses. For brevity I will only show you 1 of each as an example. In <a href=#figure-9 rel><strong>Figure 9</strong></a>, you can see the bending moment $\mathbf{M_B(z)}$ which is the resultant bending moment between the x-axis and the y-axis components.</p><figure id=figure-9><img src=figure9_bendingMomentPlot.png alt="Bending Moment Plot" style=max-width:100%;height:auto><figcaption>Figure 9 - Bending Moment Plot</figcaption></figure><p>In <a href=#figure-10 rel><strong>Figure 10</strong></a>, you can see the equivalent stress plot $\boldsymbol{\sigma_{id}(z)}$ which is calculated according to the resultant normal stress and torsional stress.</p><figure id=figure-10><img src=figure10_equivalentStressPlot.png alt="Equivalent Stress Plot" style=max-width:100%;height:auto><figcaption>Figure 10 - Equivalent Stress Plot</figcaption></figure><p>After all the plots, the output message shows the calculated static safety factor at each cross section as shown in <a href=#figure-11 rel><strong>Figure 11</strong></a>.</p><figure id=figure-11><img src=figure11_staticSafetyFactorOutput.png alt="Static Safety Factor" style=max-width:100%;height:auto><figcaption>Figure 11 - Static Safety Factor</figcaption></figure><h2 id=fatigue-verification>Fatigue Verification</h2><p>To perform the fatigue verification, we follow the same procedure as that of the static verification:</p><ol><li>define a profile (if not already defined)</li><li>define sections of interest with their corresponding characteristics (if not already defined)</li><li>calculate and plot new stresses based on this profile (internal loads don&rsquo;t change but internal stresses do)</li><li>calculate mean and alternating stresses for sections of interest and plot them on the Haigh Diagram</li><li>calculate the fatigue safety factor for each section of interest</li></ol><p>We already defined the proper fatigue profile by the way. It&rsquo;s actually the trial profile presented earlier because it&rsquo;s specified in the project description that for keyseats, the diameter remains the same! Therefore, we will simply copy/paste the previous code block for defining the trial profile and change the name accordingly:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Define Radii and Axial Locations</span>
</span></span><span class=line><span class=cl><span class=n>radii</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>33</span><span class=p>,</span> <span class=mi>35</span><span class=p>,</span>    <span class=mi>35</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span>    <span class=mi>40</span><span class=p>,</span>  <span class=mi>34</span><span class=p>,</span>    <span class=mi>34</span><span class=p>,</span>    <span class=mi>32</span><span class=p>,</span>   <span class=mi>32</span><span class=p>,</span>  <span class=mi>31</span><span class=p>])</span> <span class=o>/</span> <span class=mi>2</span> 
</span></span><span class=line><span class=cl><span class=n>alocs</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span> <span class=mi>0</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span>  <span class=mf>45.9</span><span class=p>,</span> <span class=mi>46</span><span class=p>,</span> <span class=mf>132.9</span><span class=p>,</span> <span class=mi>133</span><span class=p>,</span> <span class=mf>158.4</span><span class=p>,</span> <span class=mf>158.5</span><span class=p>,</span>  <span class=mi>222</span><span class=p>,</span> <span class=mi>223</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Define a Shaft Profile for Fatigue Verification</span>
</span></span><span class=line><span class=cl><span class=n>fatigue_profile</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>ShaftProfile</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;Fatigue Profile&#34;</span><span class=p>,</span> <span class=n>radii</span><span class=o>=</span><span class=n>radii</span><span class=p>,</span> <span class=n>locs</span><span class=o>=</span><span class=n>alocs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Refine Fatigue Profile</span>
</span></span><span class=line><span class=cl><span class=n>fatigue_profile_refined</span> <span class=o>=</span> <span class=n>fatigue_profile</span><span class=o>.</span><span class=n>refineProfile</span><span class=p>(</span><span class=n>delta</span><span class=o>=</span><span class=mf>0.1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Add First Fillet to Fatigue Profile</span>
</span></span><span class=line><span class=cl><span class=n>fatigue_profile_refined</span><span class=o>.</span><span class=n>addFillet</span><span class=p>(</span><span class=n>radius</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>quadrant</span><span class=o>=</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span> <span class=n>zOff</span><span class=o>=</span><span class=mi>45</span><span class=p>,</span> <span class=n>dOff</span><span class=o>=</span><span class=mf>18.5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Add Second Fillet to Fatigue Profile</span>
</span></span><span class=line><span class=cl><span class=n>fatigue_profile_refined</span><span class=o>.</span><span class=n>addFillet</span><span class=p>(</span><span class=n>radius</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>quadrant</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=n>zOff</span><span class=o>=</span><span class=mi>134</span><span class=p>,</span> <span class=n>dOff</span><span class=o>=</span><span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Add Fatigue Profile to Shaft A2</span>
</span></span><span class=line><span class=cl><span class=n>A2</span><span class=o>.</span><span class=n>addProfile</span><span class=p>(</span><span class=n>profile</span><span class=o>=</span><span class=n>fatigue_profile_refined</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Modify Diameter for First Section Accordingly</span>
</span></span><span class=line><span class=cl><span class=n>A2</span><span class=o>.</span><span class=n>sections</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>d</span> <span class=o>=</span> <span class=mi>35</span>
</span></span><span class=line><span class=cl><span class=n>userSections</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>d</span> <span class=o>=</span> <span class=mi>35</span>
</span></span></code></pre></div><p>Notice that in the last lines we modify the diameter of the first section that is present on the keyseat since for the fatigue profile the diameter is actually different. Other than that, we simply reproduced what we&rsquo;ve done before for the static verification profile.</p><p>At this point, we can simply proceed with the fatigue verfication. As you might&rsquo;ve guessed, we would simply call the <code>.performFatigueVerification()</code> function on the shaft object <strong>A2</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Perform Fatigue Verification on Shaft A2</span>
</span></span><span class=line><span class=cl><span class=n>A2</span><span class=o>.</span><span class=n>performFatigueVerification</span><span class=p>(</span><span class=n>RF</span><span class=o>=</span><span class=n>RF</span><span class=p>,</span> <span class=n>profile</span><span class=o>=</span><span class=n>A2</span><span class=o>.</span><span class=n>profiles</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span></span></code></pre></div><p>Running this will result in 3 prompts in the following order:</p><ol><li>Do internal loads need to plotted: in this case, not necessarily because we&rsquo;ve already plotted them on the static profile and they won&rsquo;t change</li><li>Do internal stresses need to plotted: yes because, even though the internal loads didn&rsquo;t change, the cross-sectional properties along the axis of the shaft changed indeed and this will result in slightly different trends</li><li>Do the Haigh Diagrams need to be plotted: yes because it&rsquo;s required in the project description and it is of interest to see the operating point at each cross-section</li></ol><p>In <a href=#figure-12 rel><strong>Figure 12</strong></a>, you can see an example of the Haigh Diagram for section <strong>V1</strong> where the purple asterisk represents the operating point.</p><figure id=figure-12><img src=figure12_haighDiagramExample.png alt="Haigh Diagram Example" style=max-width:100%;height:auto><figcaption>Figure 12 - Haigh Diagram Example</figcaption></figure><p>The final output after the plots is the calculated fatigue safety factor at the interested sections as shown in <a href=#figure-13 rel><strong>Figure 13</strong></a>.</p><figure id=figure-13><img src=figure13_fatigueSafetyFactorOutput.png alt="Fatigue Safety Factor" style=max-width:100%;height:auto><figcaption>Figure 13 - Fatigue Safety Factor</figcaption></figure><p>With this, we mark the finish of this part of the tutorial!</p><h2 id=tips-tricks-and-final-remarks>Tips, Tricks, and Final Remarks</h2><p>Eventhough we were able to perform the static and fatigue verification of the shaft <strong>A2</strong>, the project description asks for a bit more. Yes, the toolbox is able to present you with beautiful plots of the internal loads, internal stresses, and Haigh Diagrams which are required; however, the project asks also for alternating and mean stresses for every cross section as well as the stress concentration factors, fatigue limit correction factors, fatigue limit correction for the component, and the equivalent alternating and mean stresses.</p><p>The latter requirements are calculated by the toolbox automatically but one needs to know how to extract this information so I&rsquo;ll give you examples of each.</p><h3 id=alternating-and-mean-stresses>Alternating and Mean Stresses</h3><p>For every section of interest, the alternating and mean stresses are calculated automatically by the toolbox. To extract this information, refer to the following example applied on section <strong>V1</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Section V1: Alternating and Mean Stress</span>
</span></span><span class=line><span class=cl><span class=c1># Normal Stress</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Mean Normal Stress: </span><span class=si>{</span><span class=n>V1</span><span class=o>.</span><span class=n>sigma_m_N</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [MPa]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Alternating Normal Stress: </span><span class=si>{</span><span class=n>V1</span><span class=o>.</span><span class=n>sigma_a_N</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [MPa]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># Mean Normal Stress: 1.26 [MPa]</span>
</span></span><span class=line><span class=cl><span class=c1># Alternating Normal Stress: 0.0 [MPa]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Bending Stress</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Mean Bending Stress: </span><span class=si>{</span><span class=n>V1</span><span class=o>.</span><span class=n>sigma_m_Mb</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [MPa]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Alternating Bending Stress: </span><span class=si>{</span><span class=n>V1</span><span class=o>.</span><span class=n>sigma_a_Mb</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [MPa]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># Mean Bending Stress: 0.0 [MPa]</span>
</span></span><span class=line><span class=cl><span class=c1># Alternating Bending Stress: 95.1 [MPa]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Torsional Stress</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Mean Torsional Stress: </span><span class=si>{</span><span class=n>V1</span><span class=o>.</span><span class=n>tau_m_Mt</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [MPa]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Alternating Torsional Stress: </span><span class=si>{</span><span class=n>V1</span><span class=o>.</span><span class=n>tau_a_Mt</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [MPa]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># Mean Torsional Stress: 26.9 [MPa]</span>
</span></span><span class=line><span class=cl><span class=c1># Alternating Torsional Stress: 0.0 [MPa]</span>
</span></span></code></pre></div><h3 id=stress-concentration-factors>Stress Concentration Factors</h3><p>Applying the same concept on the stress concentration factors for the section <strong>V2</strong>, we can execute the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Section V2: Stress Concentration Factors</span>
</span></span><span class=line><span class=cl><span class=c1># Notch Sensitivity</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Notch Sensitivity: </span><span class=si>{</span><span class=n>V2</span><span class=o>.</span><span class=n>q</span><span class=o>.</span><span class=n>qReq</span><span class=si>:</span><span class=s2>.2</span><span class=si>}</span><span class=s2> [-]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># Notch Sensitivity: 0.88 [-]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Normal Stress Concentration Factor and Raiser</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Normal Stress Concentration Factor: </span><span class=si>{</span><span class=n>V2</span><span class=o>.</span><span class=n>Kt_N</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [-]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Normal Stress Concentration Raiser: </span><span class=si>{</span><span class=n>V2</span><span class=o>.</span><span class=n>Kf_N</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [-]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># Normal Stress Concentration Factor: 2.24 [-]</span>
</span></span><span class=line><span class=cl><span class=c1># Normal Stress Concentration Raiser: 2.1 [-]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Bending Stress Concentration Factor and Raiser</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Bending Stress Concentration Factor: </span><span class=si>{</span><span class=n>V2</span><span class=o>.</span><span class=n>Kt_B</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [-]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Bending Stress Concentration Raiser: </span><span class=si>{</span><span class=n>V2</span><span class=o>.</span><span class=n>Kf_B</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [-]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># Bending Stress Concentration Factor: 2.25 [-]</span>
</span></span><span class=line><span class=cl><span class=c1># Bending Stress Concentration Raiser: 2.1 [-]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Torsional Stress Concentration Factor and Raiser</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Torsional Stress Concentration Factor: </span><span class=si>{</span><span class=n>V2</span><span class=o>.</span><span class=n>Kt_T</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [-]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Torsional Stress Concentration Raiser: </span><span class=si>{</span><span class=n>V2</span><span class=o>.</span><span class=n>Kf_T</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [-]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># Torsional Stress Concentration Factor: 1.62 [-]</span>
</span></span><span class=line><span class=cl><span class=c1># Torsional Stress Concentration Raiser: 1.55 [-]</span>
</span></span></code></pre></div><h3 id=fatigue-limit-correction-factors>Fatigue Limit Correction Factors</h3><p>Now let&rsquo;s take a look at how we can extract information about the fatigue limit correction factors for size effect and surface finish effect by applying it on section <strong>V3</strong>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Section V3: Fatigue Limit Correction Factors</span>
</span></span><span class=line><span class=cl><span class=c1># Size Effect</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;C_s = </span><span class=si>{</span><span class=n>V3</span><span class=o>.</span><span class=n>FLCF</span><span class=o>.</span><span class=n>Cs_req</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [-]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># C_s = 0.845 [-]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Surface Finish Effect</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;C_f = </span><span class=si>{</span><span class=n>V3</span><span class=o>.</span><span class=n>FLCF</span><span class=o>.</span><span class=n>Cf_req</span><span class=si>:</span><span class=s2>.3</span><span class=si>}</span><span class=s2> [-]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># C_f = 1.0 [-]</span>
</span></span></code></pre></div><h3 id=fatigue-limit-correction-for-shaft-a2>Fatigue Limit Correction for Shaft A2</h3><p>We can simply print the calculated corrected fatigue limit of shaft <strong>A2</strong> by retrieving it from the material properties of the shaft using the following code snippet:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Fatigue Limit Correction on Shaft A2</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Corrected Fatigue Limit: </span><span class=si>{</span><span class=n>A2</span><span class=o>.</span><span class=n>material</span><span class=o>.</span><span class=n>sigma_Dm1C</span><span class=si>:</span><span class=s2>.4</span><span class=si>}</span><span class=s2> [MPa]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># Corrected Fatigue Limit: 307.6 [MPa]</span>
</span></span></code></pre></div><h2 id=final-words>Final Words</h2><p>To sum up, in this tutorial we took the forces calculated in <a href=https://ragheedhuneineh.com/posts/pygrtibx_tutorial1/ title="PyGRITbx - Tutorial Series Part 1: May The Forces Resolve for You" target=_blank rel="noopener noreffer"><strong>Part 1</strong></a> and used them to calculate and plot the internal loads acting on shaft <strong>A2</strong>. By defining the profile of shaft <strong>A2</strong>, we implicitly defined the cross-sectional properties across the shaft&rsquo;s axis and used that information to calculate and plot the internal stresses acting on the shaft. We then specified which sections are of interest to limit the static and fatigue safety factors calculation to those sections only.</p><p>In the 3rd and last part, we will perform bending and wear analysis on gears <strong>R1</strong> and <strong>R3</strong> as well as bearing life analysis on all the bearings!</p><h2 id=references>References</h2><ul><li>Richard G. Budynas and J. Keith Nisbett, <em>Shigley&rsquo;s Mechanical Engineering Design</em>, McGraw-Hill, 2006.</li><li>SKF Group, <em>SKF Rolling Bearings Catalogue</em>, SKF. <a href=https://www.skf.com/group/products/rolling-bearings target=_blank rel="noopener noreffer">SKF Rolling Bearings</a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2026-02-15</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://ragheedhuneineh.com/posts/pygritbx_tutorial2/ data-title="PyGRITbx - Tutorial Series Part 2: No Pain No Gain, No Stress No Strain" data-hashtags="Machine Design"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://ragheedhuneineh.com/posts/pygritbx_tutorial2/ data-hashtag="Machine Design"><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://ragheedhuneineh.com/posts/pygritbx_tutorial2/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://ragheedhuneineh.com/posts/pygritbx_tutorial2/ data-title="PyGRITbx - Tutorial Series Part 2: No Pain No Gain, No Stress No Strain" data-web><i class="fab fa-whatsapp fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/machine-design/>Machine Design</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/pygrtibx_tutorial1/ class=prev rel=prev title="PyGRITbx - Tutorial Series Part 1: May The Forces Resolve for You"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>PyGRITbx - Tutorial Series Part 1: May The Forces Resolve for You</a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-S705DMHLRY",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-S705DMHLRY" async></script></body></html>