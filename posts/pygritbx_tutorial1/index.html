<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>PyGRITbx - Tutorial Series Part 1: May The Forces Resolve for You - Ragheed Huneineh</title><meta name=Description content="Gearbox configuration definition. Calculating forces."><meta property="og:url" content="https://ragheedhuneineh.com/posts/pygritbx_tutorial1/"><meta property="og:site_name" content="Ragheed Huneineh"><meta property="og:title" content="PyGRITbx - Tutorial Series Part 1: May The Forces Resolve for You"><meta property="og:description" content="Gearbox configuration definition. Calculating forces."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-31T15:13:13+02:00"><meta property="article:modified_time" content="2026-01-31T15:13:13+02:00"><meta property="article:tag" content="Machine Design"><meta property="og:image" content="https://ragheedhuneineh.com/profile.jpeg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ragheedhuneineh.com/profile.jpeg"><meta name=twitter:title content="PyGRITbx - Tutorial Series Part 1: May The Forces Resolve for You"><meta name=twitter:description content="Gearbox configuration definition. Calculating forces."><meta name=application-name content="Ragheed Huneineh"><meta name=apple-mobile-web-app-title content="Ragheed Huneineh"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://ragheedhuneineh.com/posts/pygritbx_tutorial1/><link rel=prev href=https://ragheedhuneineh.com/posts/intro/><link rel=next href=https://ragheedhuneineh.com/posts/pygritbx_tutorial2/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"PyGRITbx - Tutorial Series Part 1: May The Forces Resolve for You","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/ragheedhuneineh.com\/posts\/pygritbx_tutorial1\/"},"genre":"posts","keywords":"Machine Design","wordcount":6065,"url":"https:\/\/ragheedhuneineh.com\/posts\/pygritbx_tutorial1\/","datePublished":"2026-01-31T15:13:13+02:00","dateModified":"2026-01-31T15:13:13+02:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Ragheed"},"description":"Gearbox configuration definition. Calculating forces."}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"light"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"light"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Ragheed Huneineh">Ragheed Huneineh</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/about/>About |</a><a class=menu-item href=/portfolio/> Portfolio |</a><a class=menu-item href=/posts/> Posts |</a><a class=menu-item href=/resume_ragheed_huneineh.pdf> Resume </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Ragheed Huneineh">Ragheed Huneineh</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/about/ title>About |</a><a class=menu-item href=/portfolio/ title>Portfolio |</a><a class=menu-item href=/posts/ title>Posts |</a><a class=menu-item href=/resume_ragheed_huneineh.pdf title>Resume</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">PyGRITbx - Tutorial Series Part 1: May The Forces Resolve for You</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Ragheed</a></span>&nbsp;<span class=post-category>included in <a href=/categories/mechanical-engineering/><i class="far fa-folder fa-fw" aria-hidden=true></i>Mechanical Engineering</a>&nbsp;<a href=/categories/programming-tutorial/><i class="far fa-folder fa-fw" aria-hidden=true></i>Programming Tutorial</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2026-01-31>2026-01-31</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;6065 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;29 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#outline>Outline</a><ul><li><a href=#prerequisites>Prerequisites</a></li></ul></li><li><a href=#what-is-pygritbx>What is PyGRITbx?</a></li><li><a href=#how-do-i-use-it>How do I use it?</a><ul><li><a href=#installation>Installation</a></li><li><a href=#first-lines-of-code-as-a-check>First Lines of Code as a Check</a></li></ul></li><li><a href=#gearbox-configuration>Gearbox Configuration</a><ul><li><a href=#input-motor>Input Motor</a></li><li><a href=#gears>Gears</a></li><li><a href=#bearings>Bearings</a></li><li><a href=#components-locations>Components&rsquo; Locations</a></li><li><a href=#output--user--load>Output / User / Load</a></li><li><a href=#shafts--meshes>Shafts & Meshes</a></li></ul></li><li><a href=#may-the-forces-resolve-for-you>May the Forces Resolve For You</a><ul><li><a href=#shaft-a1>Shaft A1</a></li><li><a href=#gear-r2>Gear R2</a></li><li><a href=#spindle-p>Spindle P</a></li><li><a href=#gear-r4>Gear R4</a></li><li><a href=#output>Output</a></li><li><a href=#shaft-a2>Shaft A2</a></li></ul></li><li><a href=#final-words>Final Words</a></li><li><a href=#references>References</a></li></ul></nav></div></div><div class=content id=content><h2 id=outline>Outline</h2><p>This blog post is the first part of a 3-part series. In this series, I would like to introduce you to my python toolbox with a tutorial based on a project given to mechanical engineering students following the course <strong>&ldquo;02SXJJM - Fundamentals of Machine Design&rdquo;</strong> at <strong>Politecnico di Torino</strong>. My best hope is that this series would serve as a guide for the reader in future projects concerning geargbox design validation.</p><p>In this part, you will learn how to:</p><ol><li>Install the toolbox along with the necessary tools.</li><li>Define the components inside the gearbox as python objects.</li><li>Configure the interactions between different components via shafts and meshes.</li><li>Calculate the reaction forces on the bearings based on the given operating point.</li></ol><p>Please feel free to contribute by sharing your thoughts regarding either the tutorial itself, the toolbox, or both.</p><h3 id=prerequisites>Prerequisites</h3><p>To follow this series, it&rsquo;s expected that the reader:</p><ul><li>has studied applied mechanics (or the like)</li><li>has basic programming skills (python is used here)</li><li>is aware of engineering terms like: <em>stress</em>, <em>static and fatigue verification</em>, <em>safety factor</em>, <em>stress concentration factors</em>, <em>Haigh diagram</em></li><li>is using <strong>Visual Studio Code</strong> with <strong>Jupyter</strong> and <strong>Pylance</strong> extensions installed</li></ul><h2 id=what-is-pygritbx>What is PyGRITbx?</h2><p><a href=https://pypi.org/project/pygritbx/ title=PyGritbx target=_blank rel="noopener noreffer"><em><strong>Python-based Gearbox Realiability and Integriy Toolbox</strong></em></a> assists mechanical engineering students (or even engineers) working on the design verification of a gearbox. Given an operating point as a boundary condition, the toolbox calculates the loads on the components constituting the gearbox (gears, shafts, and bearings), and verifies the design/choice of each component based on its defined properties. The toolbox is built and can only be used with python.</p><h2 id=how-do-i-use-it>How do I use it?</h2><p>It&rsquo;s recommended to use the <strong>Jupyter</strong> extension within <strong>Visual Studio Code</strong> to define and analyze a specific gearbox configuration, as well as perform all the required analyses. The reason is that with <strong>Jupyter</strong>, the user can write the code in a series of blocks and run each block separately. In this specific context, this allows the user to perform step-by-step definitions and calculations in order to perform all the required analyses sequentially.</p><p>Having <strong>Pylance</strong> as yet another <strong>Visual Studio Code</strong> extension helps the user with recommendations while coding the problem at hand. For example, when defining components by their corresponding characteristics, <strong>Pylance</strong> will give recommendations on the characteristics that need to be defined based on the <em>Class</em> to which the specific component belongs. More on that in the next sections.</p><h3 id=installation>Installation</h3><p>To install the toolbox:</p><ol><li>Install <a href=https://www.python.org/downloads/ title=Python target=_blank rel="noopener noreffer"><strong>Python</strong></a>.</li><li>Open the <em><strong>Command Prompt</strong></em> (Windows) or <em><strong>Terminal</strong></em> (MacOS) (addressed as <em><strong>cmd</strong></em> in the rest of the tutorial).</li><li>If you don&rsquo;t use environments in your python devlepment, proceed to step <strong>4</strong>. If you use environments in your python development, either activate a desired environment or create a new one and activate it.</li><li>Type <code>pip install pygritbx</code> then hit the enter key.</li><li>Note that the toolbox relies on <a href=https://numpy.org/ title=Numpy target=_blank rel="noopener noreffer"><strong>Numpy</strong></a>, <a href=https://matplotlib.org/ title=Matplotlib target=_blank rel="noopener noreffer"><strong>Matplotlib</strong></a> and <a href=https://scipy.org/ title=Scipy target=_blank rel="noopener noreffer"><strong>Scipy</strong></a>. Therefore, make sure they are installed before proceeding to use the toolbox. In theory, these libraries will be installed automatically with the toolbox but it&rsquo;s better to make sure they&rsquo;re there before starting any project.</li><li>Make sure you have the latest version of the toolbox by first typing <code>python</code> into your <em><strong>cmd</strong></em> then hit enter. Once python is activated, type <code>import pygritbx as pgt</code> then hit enter. After that type <code>print(pgt.__version__)</code> and hit enter. This will print the version number of the toolbox that you have currently installed. Make sure it&rsquo;s the same version number as the one shown following this <a href=https://pypi.org/project/pygritbx/ title=PyGritbx target=_blank rel="noopener noreffer"><strong>link</strong></a>.</li></ol><p>To install <strong>Visual Studio Code</strong>, choose the right one based on your computer&rsquo;s operating system: <a href=https://code.visualstudio.com/download title="VS Code" target=_blank rel="noopener noreffer"><strong>VS Code</strong></a></p><h3 id=first-lines-of-code-as-a-check>First Lines of Code as a Check</h3><p>Create an empty folder and open it with <strong>VS Code</strong>. Create a new file and, for simplicity, let&rsquo;s call it <strong>&ldquo;project.ipynb&rdquo;</strong>. Open the file and add a new code block by pressing on <strong>"+ Code"</strong>. Inside the block, type the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pygritbx</span> <span class=k>as</span> <span class=nn>pgt</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>pgt</span><span class=o>.</span><span class=n>__version__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># output example:</span>
</span></span><span class=line><span class=cl><span class=c1># 1.1.2</span>
</span></span></code></pre></div><p>Making sure the block is selected you can press <strong>Shift+Enter</strong> to execute the code and show the output which in this case is the version number of the toolbox you have installed. In this block, we also import <strong>Numpy</strong> which we will use in the next block.</p><p>Add another block to define the reference frame that we will use in the project:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>i</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>j</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>k</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>RF</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>,</span> <span class=n>k</span><span class=p>])</span>
</span></span></code></pre></div><p>Make sure to press <strong>Shift+Enter</strong> to run the code in the block.</p><p>The unit vectors <strong>&lsquo;i&rsquo;</strong>, <strong>&lsquo;j&rsquo;</strong>, and <strong>&lsquo;k&rsquo;</strong>, correspond to the <strong>&lsquo;x&rsquo;</strong>, <strong>&lsquo;y&rsquo;</strong>, and <strong>&lsquo;z&rsquo;</strong> axes, respectively. You can think of <strong>&lsquo;RF&rsquo;</strong> as the reference frame holding the three unit vectors together.</p><p>To proceed with our project, we must first understand the characteristics of its underlying components. Therefore, in the next section, we will check how to define the necessary objects one by one.</p><h2 id=gearbox-configuration>Gearbox Configuration</h2><p>The gearbox we will attempt to analyze in this tutorial can be seen in <a href=#figure-1 rel><strong>Figure 1</strong></a>. This is taken from the project of the academic year <strong>2024/2025</strong>. The gearbox is composed of:</p><ol><li>Input shaft <strong>A1</strong> transmitting power from the input motor via key <strong>L1</strong> to gear <strong>R1</strong>. The shaft is supported by bearings <strong>A</strong> and <strong>B</strong>.</li><li>Gear mesh transmitting power from gear <strong>R1</strong> to gear <strong>R2</strong>. Denote it by <strong>M1</strong>.</li><li>Intermediate shaft transmitting power from gear <strong>R2</strong> to gear <strong>R3</strong> by spinning around the spindle <strong>P</strong>.</li><li>Gear mesh transmitting power from gear <strong>R3</strong> to gear <strong>R4</strong>. Denote it by <strong>M2</strong>.</li><li>Output shaft <strong>A2</strong> transmitting power from gear <strong>R4</strong> via key <strong>L2</strong> to the output user via the key <strong>L3</strong>. The shaft is supported by bearings <strong>C</strong> and <strong>D</strong>.</li></ol><figure id=figure-1><img src=figure1_gearbox_assembly.png alt="Gearbox Assembly"><figcaption>Figure 1 - Gearbox Assembly</figcaption></figure><p>A simplified scheme can be seen in <a href=#figure-2 rel><strong>Figure 2</strong></a>. In this scheme, we can see the orientation of the:</p><ol><li>input angluar velocity</li><li>input torque</li><li>output load (forces and torque)</li><li>gear tooth inclination</li></ol><p>with respect to the given reference frame.</p><figure id=figure-2><img src=figure2_gearbox_scheme.png alt="Gearbox Scheme"><figcaption>Figure 2 - Gearbox Scheme</figcaption></figure><h3 id=input-motor>Input Motor</h3><p>Starting with the input motor, the given characteristics are shown in <a href=#table-1 rel><strong>Table 1</strong></a>.</p><table id=table-1 style="margin:1.5rem auto;border-collapse:collapse"><caption style=caption-side:bottom;text-align:center;font-size:.9rem;color:#666;margin-top:.5rem>Table 1 - Input Motor Operating Point</caption><thead><tr><th style=text-align:center>Power [W]</th><th style=text-align:center>Speed [rpm]</th></tr></thead><tbody><tr><td style=text-align:center>6000</td><td style=text-align:center>2750</td></tr></tbody></table><p>To define the input motor in our code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Input Motor</span>
</span></span><span class=line><span class=cl><span class=n>input_motor</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Motor</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;Input Motor&#34;</span><span class=p>,</span> <span class=n>power</span><span class=o>=</span><span class=mf>6e3</span><span class=p>,</span> <span class=n>n</span><span class=o>=</span><span class=mi>2750</span><span class=p>,</span> <span class=n>axis</span><span class=o>=+</span><span class=n>k</span><span class=p>)</span>
</span></span></code></pre></div><p>This defines the input motor object <strong>input_motor</strong> with the label <strong>&ldquo;Input Motor&rdquo;</strong>, power set to <strong>&ldquo;6000 [W]&rdquo;</strong>, rotational speed set to <strong>&ldquo;2750 [rpm]&rdquo;</strong>, and rotating around the <strong>&ldquo;z-axis&rdquo;</strong> in the positive direction.</p><p>Note that a <strong>Motor</strong> object is represented by the power equation which is the product of torque and rotational speed:</p><p>$$
Power = Torque * Speed
$$</p><p>Therefore when defining a <strong>Motor</strong> object, it&rsquo;s necessary to provide at least 2 out of these 3 values and the toolbox will calculate the third.</p><p>In this particular case, we provide the object definition with <strong>power</strong> and <strong>speed</strong>; hence, the toolbox will automatically calculate the torque vector. This can be checked by executing the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>input_motor</span><span class=o>.</span><span class=n>ETs</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>torque</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># output</span>
</span></span><span class=line><span class=cl><span class=c1># [ 0.          0.         20.83482891]</span>
</span></span></code></pre></div><p>By first converting the rotational speed unit to <strong>[rad/s]</strong>, the toolbox then divides the power by the converted speed value to get the torque as a vector acting in the same direction as the rotational speed.</p><h3 id=gears>Gears</h3><p>Next, we are the given the gears&rsquo; characteristics which can be seen in <a href=#table-2 rel><strong>Table 2</strong></a>.</p><table id=table-2 style="margin:1.5rem auto;border-collapse:collapse"><caption style=caption-side:bottom;text-align:center;font-size:.9rem;color:#666;margin-top:.5rem>Table 2 - Gears Characteristics</caption><thead><tr><th style=text-align:center>Property</th><th style=text-align:center>R1</th><th style=text-align:center>R2</th><th style=text-align:center>R3</th><th style=text-align:center>R4</th></tr></thead><tbody><tr><td style=text-align:center>Normal Module (m<sub>n</sub>) [mm]</td><td style=text-align:center>2.5</td><td style=text-align:center>2.5</td><td style=text-align:center>2.5</td><td style=text-align:center>2.5</td></tr><tr><td style=text-align:center>Number of teeth (z) [-]</td><td style=text-align:center>18</td><td style=text-align:center>73</td><td style=text-align:center>19</td><td style=text-align:center>51</td></tr><tr><td style=text-align:center>Helix Angle (&psi;) [&deg]</td><td style=text-align:center>20</td><td style=text-align:center>20</td><td style=text-align:center>20</td><td style=text-align:center>20</td></tr><tr><td style=text-align:center>Normal Pressure Angle (&Phi;<sub>n</sub>) [&deg]</td><td style=text-align:center>20</td><td style=text-align:center>20</td><td style=text-align:center>20</td><td style=text-align:center>20</td></tr><tr><td style=text-align:center>Transmission Accuracy Level (Q<sub>v</sub>) [-]</td><td style=text-align:center>7</td><td style=text-align:center>7</td><td style=text-align:center>7</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Tooth Face Width [mm]</td><td style=text-align:center>30</td><td style=text-align:center>30</td><td style=text-align:center>30</td><td style=text-align:center>30</td></tr><tr><td style=text-align:center>Ultimate Strength (&#963;<sub>u</sub>) [MPa]</td><td style=text-align:center>1060</td><td style=text-align:center>1950</td><td style=text-align:center>1950</td><td style=text-align:center>1060</td></tr><tr><td style=text-align:center>Yield Strength (&#963;<sub>y</sub>) [MPa]</td><td style=text-align:center>950</td><td style=text-align:center>1400</td><td style=text-align:center>1400</td><td style=text-align:center>950</td></tr><tr><td style=text-align:center>Surface Hardness [HB]</td><td style=text-align:center>335</td><td style=text-align:center>560</td><td style=text-align:center>560</td><td style=text-align:center>335</td></tr><tr><td style=text-align:center>Bending Fatigue Strength (&#963;<sub>FP</sub>) [MPa]</td><td style=text-align:center>320</td><td style=text-align:center>450</td><td style=text-align:center>450</td><td style=text-align:center>320</td></tr><tr><td style=text-align:center>Contact Fatigue Strength (&#963;<sub>HP</sub>) [MPa]</td><td style=text-align:center>860</td><td style=text-align:center>1360</td><td style=text-align:center>1360</td><td style=text-align:center>860</td></tr></tbody></table><p>Note that these properties can be classified into:</p><ol><li>Gear Material Properties</li><li>Gear Physical Properties</li></ol><p>In our definition, we will separate these 2 sets of properties. We can also see that gears <strong>R1</strong> and <strong>R4</strong> share the same material properties, while gear <strong>R2</strong> material properties match that of gear <strong>R3</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Gear Material Properties Definition</span>
</span></span><span class=line><span class=cl><span class=n>R1R4_material</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Material</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s1>&#39;Steel&#39;</span><span class=p>,</span> <span class=n>sigma_u</span><span class=o>=</span><span class=mi>1060</span><span class=p>,</span> <span class=n>sigma_y</span><span class=o>=</span><span class=mi>950</span><span class=p>,</span> <span class=n>HB</span><span class=o>=</span><span class=mi>335</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>R2R3_material</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Material</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s1>&#39;Steel&#39;</span><span class=p>,</span> <span class=n>sigma_u</span><span class=o>=</span><span class=mi>1950</span><span class=p>,</span> <span class=n>sigma_y</span><span class=o>=</span><span class=mi>1400</span><span class=p>,</span> <span class=n>HB</span><span class=o>=</span><span class=mi>560</span><span class=p>)</span>
</span></span></code></pre></div><p>At this point, the object <strong>R1R4_material</strong> holds material properties for gears <strong>R1</strong> and <strong>R4</strong>, while <strong>R2R3_material</strong> holds material properties for gears <strong>R2</strong> and <strong>R3</strong>. These material objects will be used during the defintion of the gear objects as follows.</p><p><em><strong>NOTE: DO NOT RUN THE FOLLOWING CODE BLOCK JUST YET. THERE&rsquo;S ONE MORE PARAMETER THAT WILL BE DISCUSSED SHORTLY.</strong></em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Gears</span>
</span></span><span class=line><span class=cl><span class=c1># R1</span>
</span></span><span class=line><span class=cl><span class=n>R1</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Gear</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;R1&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>m_n</span><span class=o>=</span><span class=mf>2.5</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=mi>18</span><span class=p>,</span> <span class=n>psi</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>phi_n</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>Q_v</span><span class=o>=</span><span class=mi>7</span><span class=p>,</span> <span class=n>FW</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>R1R4_material</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># R2</span>
</span></span><span class=line><span class=cl><span class=n>R2</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Gear</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;R2&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>m_n</span><span class=o>=</span><span class=mf>2.5</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=mi>73</span><span class=p>,</span> <span class=n>psi</span><span class=o>=-</span><span class=mi>20</span><span class=p>,</span> <span class=n>phi_n</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>Q_v</span><span class=o>=</span><span class=mi>7</span><span class=p>,</span> <span class=n>FW</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>R2R3_material</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># R3</span>
</span></span><span class=line><span class=cl><span class=n>R3</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Gear</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;R3&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>m_n</span><span class=o>=</span><span class=mf>2.5</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=mi>19</span><span class=p>,</span> <span class=n>psi</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>phi_n</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>Q_v</span><span class=o>=</span><span class=mi>7</span><span class=p>,</span> <span class=n>FW</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>R2R3_material</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># R4</span>
</span></span><span class=line><span class=cl><span class=n>R4</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Gear</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;R4&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>m_n</span><span class=o>=</span><span class=mf>2.5</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=mi>51</span><span class=p>,</span> <span class=n>psi</span><span class=o>=-</span><span class=mi>20</span><span class=p>,</span> <span class=n>phi_n</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>Q_v</span><span class=o>=</span><span class=mi>7</span><span class=p>,</span> <span class=n>FW</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>R1R4_material</span><span class=p>)</span>
</span></span></code></pre></div><p>At this point, each gear object has a label, axis of rotation, normal module, number of teeth, helix angle, normal pressure angle, transmission accuracy level, tooth face width, and material properties defined.</p><h3 id=bearings>Bearings</h3><p>Defining bearing objects isn&rsquo;t as straightforward as the previous definitions unfortunately. This is because bearings come in different types, each type with its own set of properties. However, some of these properties are shared across different types of bearings <em>(e.g. bearing width, internal diameter, reference speed, etc.)</em>. <strong>PyGRITbx</strong> supports only SKF bearings, and luckily, the <a href=https://www.skf.com/group/products/rolling-bearings title="SKF Roller Bearigns Catalogue" target=_blank rel="noopener noreffer"><strong>SKF Rolling Bearings</strong></a> catalogue is freely available for anyone to download.</p><p>Using the catalogue, we will define bearing objects by their properties. Some additional properties related to the specific configuration of the gearbox will also be defined and explained in the following.</p><p>Bearings <strong>A</strong> and <strong>B</strong> are given as <strong>SKF 30203 (Explorer)</strong> bearings. By searching through the <strong>SKF Catalogue</strong>, we find their characteristics as shown in <a href=#figure-3 rel><strong>Figure 3</strong></a> and <a href=#figure-4 rel><strong>Figure 4</strong></a>, in the row enclosed in the blue rectangle.</p><figure id=figure-3><img src=figure3_30203_1.png alt="SKF 30203 (Explorer) Specs 1"><figcaption>Figure 3 - SKF 30203 (Explorer) Specs 1</figcaption></figure><figure id=figure-4><img src=figure4_30203_2.png alt="SKF 30203 (Explorer) Specs 2"><figcaption>Figure 4 - SKF 30203 (Explorer) Specs 2</figcaption></figure><p>Similarly, we can find bearings <strong>C</strong> and <strong>D</strong> which are designated by <strong>SKF 30208 (Explorer)</strong>. Their characteristics are shown in <a href=#figure-5 rel><strong>Figure 5</strong></a> and <a href=#figure-6 rel><strong>Figure 6</strong></a> in the row enclosed in the blue rectangle.</p><figure id=figure-5><img src=figure5_30208_1.png alt="SKF 30208 (Explorer) Specs 1"><figcaption>Figure 5 - SKF 30208 (Explorer) Specs 1</figcaption></figure><figure id=figure-6><img src=figure6_30208_2.png alt="SKF 30208 (Explorer) Specs 2"><figcaption>Figure 6 - SKF 30208 (Explorer) Specs 2</figcaption></figure><p>Based on the information from the catalogue, we can then define the bearing objects in python as follows.</p><p><em><strong>NOTE: DO NOT RUN THE FOLLOWING CODE BLOCK JUST YET. THERE&rsquo;S ONE MORE PARAMETER THAT WILL BE DISCUSSED SHORTLY.</strong></em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Supports</span>
</span></span><span class=line><span class=cl><span class=c1># A (roller 30203)</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Support</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;A&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=s2>&#34;Roller&#34;</span><span class=p>,</span> <span class=n>bearingType</span><span class=o>=</span><span class=s2>&#34;Tapered&#34;</span><span class=p>,</span> <span class=n>catalogueName</span><span class=o>=</span><span class=s2>&#34;30203&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>catalogueType</span><span class=o>=</span><span class=s2>&#34;Explorer&#34;</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>17</span><span class=p>,</span> <span class=n>D</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>B</span><span class=o>=</span><span class=mf>13.25</span><span class=p>,</span> <span class=n>C</span><span class=o>=</span><span class=mf>23.4e3</span><span class=p>,</span> <span class=n>C0</span><span class=o>=</span><span class=mf>18.6e3</span><span class=p>,</span> <span class=n>Pu</span><span class=o>=</span><span class=mf>1.83e3</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>nr</span><span class=o>=</span><span class=mf>15e3</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>9</span><span class=p>,</span> <span class=n>e</span><span class=o>=</span><span class=mf>0.35</span><span class=p>,</span> <span class=n>X</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y</span><span class=o>=</span><span class=mf>1.7</span><span class=p>,</span> <span class=n>Y0</span><span class=o>=</span><span class=mf>0.9</span><span class=p>,</span> <span class=n>Y1</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y2</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>A</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>kr</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>shoulder</span><span class=o>=-</span><span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>arr</span><span class=o>=</span><span class=s2>&#34;B2B&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># B (roller 30203)</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Support</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;B&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=s2>&#34;Pin&#34;</span><span class=p>,</span> <span class=n>bearingType</span><span class=o>=</span><span class=s2>&#34;Tapered&#34;</span><span class=p>,</span> <span class=n>catalogueName</span><span class=o>=</span><span class=s2>&#34;30203&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>catalogueType</span><span class=o>=</span><span class=s2>&#34;Explorer&#34;</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>17</span><span class=p>,</span> <span class=n>D</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>B</span><span class=o>=</span><span class=mf>13.25</span><span class=p>,</span> <span class=n>C</span><span class=o>=</span><span class=mf>23.4e3</span><span class=p>,</span> <span class=n>C0</span><span class=o>=</span><span class=mf>18.6e3</span><span class=p>,</span> <span class=n>Pu</span><span class=o>=</span><span class=mf>1.83e3</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>nr</span><span class=o>=</span><span class=mf>15e3</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>9</span><span class=p>,</span> <span class=n>e</span><span class=o>=</span><span class=mf>0.35</span><span class=p>,</span> <span class=n>X</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y</span><span class=o>=</span><span class=mf>1.7</span><span class=p>,</span><span class=n>Y0</span><span class=o>=</span><span class=mf>0.9</span><span class=p>,</span> <span class=n>Y1</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y2</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>A</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>kr</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>shoulder</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>arr</span><span class=o>=</span><span class=s2>&#34;B2B&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># C (roller 30208)</span>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Support</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;C&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=s2>&#34;Roller&#34;</span><span class=p>,</span> <span class=n>bearingType</span><span class=o>=</span><span class=s2>&#34;Tapered&#34;</span><span class=p>,</span> <span class=n>catalogueName</span><span class=o>=</span><span class=s2>&#34;30208&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>catalogueType</span><span class=o>=</span><span class=s2>&#34;Explorer&#34;</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>D</span><span class=o>=</span><span class=mi>80</span><span class=p>,</span> <span class=n>B</span><span class=o>=</span><span class=mf>19.75</span><span class=p>,</span> <span class=n>C</span><span class=o>=</span><span class=mf>75.8e3</span><span class=p>,</span> <span class=n>C0</span><span class=o>=</span><span class=mf>68e3</span><span class=p>,</span> <span class=n>Pu</span><span class=o>=</span><span class=mf>7.65e3</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>nr</span><span class=o>=</span><span class=mf>7e3</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>16</span><span class=p>,</span> <span class=n>e</span><span class=o>=</span><span class=mf>0.37</span><span class=p>,</span> <span class=n>X</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y</span><span class=o>=</span><span class=mf>1.6</span><span class=p>,</span> <span class=n>Y0</span><span class=o>=</span><span class=mf>0.9</span><span class=p>,</span> <span class=n>Y1</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y2</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>A</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>kr</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>shoulder</span><span class=o>=-</span><span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>arr</span><span class=o>=</span><span class=s2>&#34;B2B&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># D (roller 30208)</span>
</span></span><span class=line><span class=cl><span class=n>D</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Support</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;D&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=s2>&#34;Pin&#34;</span><span class=p>,</span> <span class=n>bearingType</span><span class=o>=</span><span class=s2>&#34;Tapered&#34;</span><span class=p>,</span> <span class=n>catalogueName</span><span class=o>=</span><span class=s2>&#34;30208&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>catalogueType</span><span class=o>=</span><span class=s2>&#34;Explorer&#34;</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>D</span><span class=o>=</span><span class=mi>80</span><span class=p>,</span> <span class=n>B</span><span class=o>=</span><span class=mf>19.75</span><span class=p>,</span> <span class=n>C</span><span class=o>=</span><span class=mf>75.8e3</span><span class=p>,</span> <span class=n>C0</span><span class=o>=</span><span class=mf>68e3</span><span class=p>,</span> <span class=n>Pu</span><span class=o>=</span><span class=mf>7.65e3</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>nr</span><span class=o>=</span><span class=mf>7e3</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>16</span><span class=p>,</span> <span class=n>e</span><span class=o>=</span><span class=mf>0.37</span><span class=p>,</span> <span class=n>X</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y</span><span class=o>=</span><span class=mf>1.6</span><span class=p>,</span> <span class=n>Y0</span><span class=o>=</span><span class=mf>0.9</span><span class=p>,</span> <span class=n>Y1</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y2</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>A</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>kr</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>shoulder</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>arr</span><span class=o>=</span><span class=s2>&#34;B2B&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># F</span>
</span></span><span class=line><span class=cl><span class=n>F</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Support</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>)</span> <span class=c1># Generic bearing for the spindle. Characteristics are irrelevant.</span>
</span></span></code></pre></div><p>It&rsquo;s worth spending a couple of words regarding the properties defined which are <em>NOT</em> present in the SKF Catalogue:</p><ol><li><strong>name</strong>: this is simply a label that you are free to choose or simply leave empty.</li><li><strong>type</strong>: this can be either <strong>Roller</strong> or <strong>Pin</strong>, depending on the support type. Each shaft is supported by at least 2 supports and it&rsquo;s <strong>necessary</strong> to define one of the supports as <strong>Roller</strong> and the other as <strong>Pin</strong>. Sometimes this is given in the scheme in <a href=#figure-2 rel><strong>Figure 2</strong></a>. In this specific example and by looking at shaft <strong>A1</strong>, we can see that both bearings, <strong>A</strong> and <strong>B</strong>, are <strong>Pins</strong>; therefore, how do we choose which to define as <strong>Roller</strong> and which as <strong>Pin</strong>? The answer: <em>it doesn&rsquo;t matter</em>. This is because the SKF catalogue provides a way to calculate the axial forces as shown in <a href=#figure-7 rel><strong>Figure 7</strong></a>. But don&rsquo;t worry, <strong>PyGRITbx</strong> will do this calculation for you.</li><li><strong>bearingType</strong>: depending on the bearing type, this could be <strong>Ball</strong>, <strong>Tapered</strong>, or <strong>Contact Ball</strong> bearing.</li><li><strong>catalogueType</strong>: based on the SKF Catalogue, the bearing could be a <strong>Standard</strong> or <strong>Explorer</strong> bearing.</li><li><strong>shoulder</strong>: this parameter is set to <strong>1</strong> if the axial shoulder is located in the positive sense of the shaft&rsquo;s axis with respect to the bearing and <strong>-1</strong> otherwise. Example: if the shaft&rsquo;s axis is pointing to the right and the shoulder is to the right of the bearing, the parameter must be set to <strong>1</strong>. If the shaft&rsquo;s axis is pointing to the right and the shoulder is to the left of the bearing, the parameter must be set to <strong>-1</strong>.</li><li><strong>arr</strong>: this is the arrangement the bearing is currently in. It could be <strong>Single</strong>, <strong>F2F</strong>, <strong>B2B</strong>, <strong>Tandem</strong>, or <strong>Double row</strong>, depending on the given arrangement.</li><li><strong>axis</strong>: the unit vector corresponding to the axis around which the bearing rotates.</li></ol><figure id=figure-7><img src=figure7_bearing_axial_loading.png alt="Bearings Axial Loading"><figcaption>Figure 7 - Bearings Axial Loading</figcaption></figure><p>At this stage, one might think that we should move on to defining <strong>shafts</strong> and <strong>meshes</strong>. However, there&rsquo;s a specific reason as to why I asked you not to run the code blocks regarding gears and bearings. The reason is that with our current definition, the components will be simply floating in the air without any specific location! Therefore, the next section will be dedicated to explaining how to find the locations of the components and how to define them.</p><h3 id=components-locations>Components&rsquo; Locations</h3><p>In this section, you&rsquo;ll learn how to easily define your components&rsquo; locations. Locations of components belonging to the same shaft is an essential part of calculating the reaction forces produced by the bearings. <strong>PyGRITbx</strong> gives you the possibility to define the:</p><ol><li>Absolute location of the component relative to a chosen reference frame defined as a vector.</li><li>Relative location of the comopnent relative to the rotation axis of the shaft it belongs to defined as a scalar.</li></ol><p>Depending on the given, one way or the other might be convenient for you. In our example, relative distances between components are given as shown in <a href=#figure-8 rel><strong>Figure 8</strong></a>. Let&rsquo;s break it down one shaft at a time.</p><figure id=figure-8><img src=figure8_distances.png alt="Relative Axial Distances"><figcaption>Figure 8 - Relative Axial Distances</figcaption></figure><p><strong>- Shaft A1</strong></p><p>For this shaft, we have to locate the following components:</p><ol><li>Bearing <strong>A</strong> at its pressure center</li><li>Bearing <strong>B</strong> at its pressure center</li><li>Gear <strong>R1</strong> at its midplane</li></ol><p>Bearing <strong>A</strong> will be located at the origin as shown in <a href=#figure-9 rel><strong>Figure 9</strong></a>. Our mission is to calculate $\mathbf{a_1}$ and $\mathbf{b_1}$ to locate bearing <strong>B</strong> and gear <strong>R1</strong>.</p><figure id=figure-9><img src=figure9_shaftA1_scheme.png alt="Shaft A1 Scheme" style=max-width:70%;height:auto><figcaption>Figure 9 - Shaft A1 Scheme</figcaption></figure><p>However, given that the bearing is a tapered roller bearing, we&rsquo;re actually saying that the bearing&rsquo;s pressure center, which has an offset from the bearing&rsquo;s center point, is located at the origin (point in red circle in <a href=#figure-10 rel><strong>Figure 10</strong></a>).</p><figure id=figure-10><img src=figure10_taperedBearing_center.png alt="Tapered Roller Bearing Center" style=max-width:30%;height:auto><figcaption>Figure 10 - Tapered Roller Bearing Center</figcaption></figure><p>To calculate $\mathbf{a_1}$ and $\mathbf{b_1}$, we will refer to shaft <strong>A1</strong>&rsquo;s zoomed-in scheme in <a href=#figure-11 rel><strong>Figure 11</strong></a>.</p><figure id=figure-11><img src=figure11_shaftA1_distances.png alt="Shaft A1 Relative Axial Distances" style=max-width:80%;height:auto><figcaption>Figure 11 - Shaft A1 Relative Axial Distances</figcaption></figure><p>The distance between the faces of the bearings <strong>A</strong> and <strong>B</strong> is reported as <em><strong>28.75 [mm]</strong></em>. The pressure center of bearing <strong>A</strong> is offset to the left and that of bearing <strong>B</strong> is offset to the right. Therefore, to calculate $\mathbf{a_1}$, we simply have to follow the equation:</p><p>$$
a_1 = a_A + 28.75 + a_B = 9 + 28.75 + 9 = 46.75 [mm]
$$</p><p>To calculate $\mathbf{b_1}$, we have that the distance from the right side of bearing <strong>B</strong> to the left side of gear <strong>R1</strong> is <em><strong>24.25 [mm]</strong></em>. To that, we have to add the distance from the pressure center of bearing <strong>B</strong> to the rightmost side of bearing <strong>B</strong>, and half of the width of gear <strong>R1</strong> so as to locate it at its middle plane.</p><p>To calculate the distance between bearing <strong>B</strong>&rsquo;s pressure center and its rightmost side, we simply subtract the offset distance of the pressure center from the width of the bearing. Therefore, to calculate $\mathbf{b_1}$, we follow the equation:</p><p>$$
b_1 = (B_B - a_B) + 24.25 + (FW_{R1}/2) = (13.25 - 9) + 24.25 + (30/2) = 43.5 [mm]
$$</p><p>At this point, we can define the location of all the components on shaft <strong>A1</strong> as shown in the following code block:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Shaft A1 Components&#39; Locations</span>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=mf>46.75</span> <span class=c1># [mm]</span>
</span></span><span class=line><span class=cl><span class=n>b1</span> <span class=o>=</span> <span class=mf>43.5</span> <span class=c1># [mm]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>zA</span> <span class=o>=</span> <span class=mi>0</span> <span class=c1># [mm]</span>
</span></span><span class=line><span class=cl><span class=n>zB</span> <span class=o>=</span> <span class=n>a1</span>
</span></span><span class=line><span class=cl><span class=n>zR1</span> <span class=o>=</span> <span class=n>a1</span> <span class=o>+</span> <span class=n>b1</span> <span class=c1># [mm]</span>
</span></span></code></pre></div><p>Note that since these locations are defined as scalars, they are <strong>NOT</strong> the absolute locations of the components. They actually represent the relative locations of the components with respect to shaft <strong>A1</strong>&rsquo;s rotational axis! The aboslute locations of the components will be calculated automatically by the toolbox once we define <strong>shafts</strong> and <strong>meshes</strong>.</p><p>Now let&rsquo;s switch our focus to the spindle.</p><p><strong>- Spindle P</strong></p><p>Locating the components on this spindle is unnecessary for the purpose of the project. In fact, it&rsquo;s impossible to accurately locate the components on the spindle relative to each other due to missing information. However, we can still make some assumptions so as to portray the locations of the subsequent components in the global reference frame.</p><p>Components that need to be located are:</p><ol><li>Gear <strong>R2</strong> at its midplane</li><li>Gear <strong>R3</strong> at its midplane</li></ol><p>For simplicity, we will assume that the location of gear <strong>R2</strong> is at the origin of the spindle and that the location of gear <strong>R3</strong> is represented by a scalar which is bigger than the sum of half the widths of both gears. That is:</p><p>$$
z_{R3} > (FW_{R2}/2) + (FW_{R3}/2) = (30/2) + (30/2) = 30 [mm]
$$</p><p>We will assume it as <em><strong>55 [mm]</strong></em>. Therefore, the locations are defined as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Spindle P Components&#39; Locations</span>
</span></span><span class=line><span class=cl><span class=n>zR2</span> <span class=o>=</span> <span class=mi>0</span> <span class=c1># [mm]</span>
</span></span><span class=line><span class=cl><span class=n>zR3</span> <span class=o>=</span> <span class=mi>55</span> <span class=c1># [mm]</span>
</span></span></code></pre></div><p>Now let&rsquo;s switch to the final set of locations on shaft <strong>A2</strong>.</p><p><strong>- Shaft A2</strong></p><p>For this shaft, we have to locate the following components:</p><ol><li>Gear <strong>R4</strong> at its midplane in the center of key <strong>L2</strong></li><li>Bearing <strong>C</strong> at its pressure center</li><li>Bearing <strong>D</strong> at its pressure center</li><li>Output load by user via key <strong>L3</strong></li></ol><p>Similar to shaft <strong>A1</strong>, we&rsquo;ll refer to the scheme shown in <a href=#figure-12 rel><strong>Figure 12</strong></a>. Similarly, we&rsquo;d need to calculate $\mathbf{z_R}$, $\mathbf{a_2}$, $\mathbf{b_2}$, and $\mathbf{c_2}$.</p><figure id=figure-12><img src=figure12_shaftA2_scheme.png alt="Shaft A2 Scheme" style=max-width:80%;height:auto><figcaption>Figure 12 - Shaft A2 Scheme</figcaption></figure><p>To calculate these locations, we&rsquo;d need to refer to the zoomed in scheme of shaft <strong>A2</strong> (<a href=#figure-13 rel><strong>Figure 13</strong></a>) as well as the technical drawing of the shaft (<a href=#figure-14 rel><strong>Figure 14</strong></a>).</p><figure id=figure-13><img src=figure13_shaftA2_distances.png alt="Shaft A2 Relative Axial Distances" style=max-width:80%;height:auto><figcaption>Figure 13 - Shaft A2 Relative Axial Distances</figcaption></figure><figure id=figure-14><img src=figure14_shaftA2_technicalDrawing.png alt="Shaft A2 Technical Drawing" style=max-width:100%;height:auto><figcaption>Figure 14 - Shaft A2 Technical Drawing</figcaption></figure><p>From the technical drawing, we can directly calculate $\mathbf{z_R}$ as:</p><p>$$
z_R = 17 + (18/2) = 26 [mm]
$$</p><p>To calculate $\mathbf{a_2}$, we must first calculate bearing <strong>C</strong>&rsquo;s pressure center, $\mathbf{z_C}$. We can see from the technical drawing that the leftmost side of bearing <strong>C</strong> must be located at <em><strong>46 [mm]</strong></em> from the leftmost side of shaft <strong>A2</strong>. This means that bearing <strong>C</strong>&rsquo;s pressure center can be located by adding the bearing&rsquo;s width to that value, then subtracting the center&rsquo;s offset as shown in the following equation:</p><p>$$
z_C = 46 + B_C - a_C = 46 + 19.75 - 16 = 49.75 [mm]
$$</p><p>Then, we can calculate $\mathbf{a_2}$:</p><p>$$
a_2 = z_C - z_R = 49.75 - 26 = 23.75 [mm]
$$</p><p>Similar to $\mathbf{a_1}$, we can calculate $\mathbf{b_2}$ by adding the offsets of bearings <strong>C</strong> and <strong>D</strong> to the given value of <em><strong>25 [mm]</strong></em>:</p><p>$$
b_2 = a_C + 25 + a_D = 16 + 26 + 16 = 58 [mm]
$$</p><p>Finally, we can calculate $\mathbf{c_2}$ as follows (as practice, try to figure out why by using <a href=#figure-13 rel><strong>Figure 13</strong></a>):</p><p>$$
c_2 = (58.5 - a_D) + 35 = (58.5 - 16) + 35 = 77.5 [mm]
$$</p><p>At this point, we can define the location of all the components on shaft <strong>A2</strong> as shown in the following code block:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Shaft A2 Components&#39; Locations</span>
</span></span><span class=line><span class=cl><span class=n>a2</span> <span class=o>=</span> <span class=mf>23.75</span> <span class=c1># [mm]</span>
</span></span><span class=line><span class=cl><span class=n>b2</span> <span class=o>=</span> <span class=mi>58</span> <span class=c1># [mm]</span>
</span></span><span class=line><span class=cl><span class=n>c2</span> <span class=o>=</span> <span class=mf>77.5</span> <span class=c1># [mm]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>zR4</span> <span class=o>=</span> <span class=mi>26</span> <span class=c1># [mm]</span>
</span></span><span class=line><span class=cl><span class=n>zC</span> <span class=o>=</span> <span class=n>zR4</span> <span class=o>+</span> <span class=n>a2</span>
</span></span><span class=line><span class=cl><span class=n>zD</span> <span class=o>=</span> <span class=n>zC</span> <span class=o>+</span> <span class=n>b2</span>
</span></span><span class=line><span class=cl><span class=n>zOut</span> <span class=o>=</span> <span class=n>zD</span> <span class=o>+</span> <span class=n>c2</span> <span class=c1># [mm]</span>
</span></span></code></pre></div><p>After having located all the components, we can finally rewrite the blocks defining the gears and bearings with one additional parameter: <strong>loc</strong>.</p><p><strong>NOTE: ONLY AFTER RUNNING THE CODE BLOCKS FOR DEFINING THE LOCATIONS CAN YOU RUN THE FOLLOWING BLOCKS FOR GEARS AND BEARINGS!</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Gears</span>
</span></span><span class=line><span class=cl><span class=c1># R1</span>
</span></span><span class=line><span class=cl><span class=n>R1</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Gear</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;R1&#34;</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=n>zR1</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>m_n</span><span class=o>=</span><span class=mf>2.5</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=mi>18</span><span class=p>,</span> <span class=n>psi</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>phi_n</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>Q_v</span><span class=o>=</span><span class=mi>7</span><span class=p>,</span> <span class=n>FW</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>R1R4_material</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># R2</span>
</span></span><span class=line><span class=cl><span class=n>R2</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Gear</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;R2&#34;</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=n>zR2</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>m_n</span><span class=o>=</span><span class=mf>2.5</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=mi>73</span><span class=p>,</span> <span class=n>psi</span><span class=o>=-</span><span class=mi>20</span><span class=p>,</span> <span class=n>phi_n</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>Q_v</span><span class=o>=</span><span class=mi>7</span><span class=p>,</span> <span class=n>FW</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>R2R3_material</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># R3</span>
</span></span><span class=line><span class=cl><span class=n>R3</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Gear</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;R3&#34;</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=n>zR3</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>m_n</span><span class=o>=</span><span class=mf>2.5</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=mi>19</span><span class=p>,</span> <span class=n>psi</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>phi_n</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>Q_v</span><span class=o>=</span><span class=mi>7</span><span class=p>,</span> <span class=n>FW</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>R2R3_material</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># R4</span>
</span></span><span class=line><span class=cl><span class=n>R4</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Gear</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;R4&#34;</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=n>zR4</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>m_n</span><span class=o>=</span><span class=mf>2.5</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=mi>51</span><span class=p>,</span> <span class=n>psi</span><span class=o>=-</span><span class=mi>20</span><span class=p>,</span> <span class=n>phi_n</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>Q_v</span><span class=o>=</span><span class=mi>7</span><span class=p>,</span> <span class=n>FW</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>material</span><span class=o>=</span><span class=n>R1R4_material</span><span class=p>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Supports</span>
</span></span><span class=line><span class=cl><span class=c1># A (roller 30203)</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Support</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;A&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=s2>&#34;Roller&#34;</span><span class=p>,</span> <span class=n>bearingType</span><span class=o>=</span><span class=s2>&#34;Tapered&#34;</span><span class=p>,</span> <span class=n>catalogueName</span><span class=o>=</span><span class=s2>&#34;30203&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>catalogueType</span><span class=o>=</span><span class=s2>&#34;Explorer&#34;</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>17</span><span class=p>,</span> <span class=n>D</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>B</span><span class=o>=</span><span class=mf>13.25</span><span class=p>,</span> <span class=n>C</span><span class=o>=</span><span class=mf>23.4e3</span><span class=p>,</span> <span class=n>C0</span><span class=o>=</span><span class=mf>18.6e3</span><span class=p>,</span> <span class=n>Pu</span><span class=o>=</span><span class=mf>1.83e3</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>nr</span><span class=o>=</span><span class=mf>15e3</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>9</span><span class=p>,</span> <span class=n>e</span><span class=o>=</span><span class=mf>0.35</span><span class=p>,</span> <span class=n>X</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y</span><span class=o>=</span><span class=mf>1.7</span><span class=p>,</span> <span class=n>Y0</span><span class=o>=</span><span class=mf>0.9</span><span class=p>,</span> <span class=n>Y1</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y2</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>A</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>kr</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>shoulder</span><span class=o>=-</span><span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>arr</span><span class=o>=</span><span class=s2>&#34;B2B&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=n>zA</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># B (roller 30203)</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Support</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;B&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=s2>&#34;Pin&#34;</span><span class=p>,</span> <span class=n>bearingType</span><span class=o>=</span><span class=s2>&#34;Tapered&#34;</span><span class=p>,</span> <span class=n>catalogueName</span><span class=o>=</span><span class=s2>&#34;30203&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>catalogueType</span><span class=o>=</span><span class=s2>&#34;Explorer&#34;</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>17</span><span class=p>,</span> <span class=n>D</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>B</span><span class=o>=</span><span class=mf>13.25</span><span class=p>,</span> <span class=n>C</span><span class=o>=</span><span class=mf>23.4e3</span><span class=p>,</span> <span class=n>C0</span><span class=o>=</span><span class=mf>18.6e3</span><span class=p>,</span> <span class=n>Pu</span><span class=o>=</span><span class=mf>1.83e3</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>nr</span><span class=o>=</span><span class=mf>15e3</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>9</span><span class=p>,</span> <span class=n>e</span><span class=o>=</span><span class=mf>0.35</span><span class=p>,</span> <span class=n>X</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y</span><span class=o>=</span><span class=mf>1.7</span><span class=p>,</span><span class=n>Y0</span><span class=o>=</span><span class=mf>0.9</span><span class=p>,</span> <span class=n>Y1</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y2</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>A</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>kr</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>shoulder</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>arr</span><span class=o>=</span><span class=s2>&#34;B2B&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=n>zB</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># C (roller 30208)</span>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Support</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;C&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=s2>&#34;Roller&#34;</span><span class=p>,</span> <span class=n>bearingType</span><span class=o>=</span><span class=s2>&#34;Tapered&#34;</span><span class=p>,</span> <span class=n>catalogueName</span><span class=o>=</span><span class=s2>&#34;30208&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>catalogueType</span><span class=o>=</span><span class=s2>&#34;Explorer&#34;</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>D</span><span class=o>=</span><span class=mi>80</span><span class=p>,</span> <span class=n>B</span><span class=o>=</span><span class=mf>19.75</span><span class=p>,</span> <span class=n>C</span><span class=o>=</span><span class=mf>75.8e3</span><span class=p>,</span> <span class=n>C0</span><span class=o>=</span><span class=mf>68e3</span><span class=p>,</span> <span class=n>Pu</span><span class=o>=</span><span class=mf>7.65e3</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>nr</span><span class=o>=</span><span class=mf>7e3</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>16</span><span class=p>,</span> <span class=n>e</span><span class=o>=</span><span class=mf>0.37</span><span class=p>,</span> <span class=n>X</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y</span><span class=o>=</span><span class=mf>1.6</span><span class=p>,</span> <span class=n>Y0</span><span class=o>=</span><span class=mf>0.9</span><span class=p>,</span> <span class=n>Y1</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y2</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>A</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>kr</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>shoulder</span><span class=o>=-</span><span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>arr</span><span class=o>=</span><span class=s2>&#34;B2B&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=n>zC</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># D (roller 30208)</span>
</span></span><span class=line><span class=cl><span class=n>D</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Support</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;D&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=s2>&#34;Pin&#34;</span><span class=p>,</span> <span class=n>bearingType</span><span class=o>=</span><span class=s2>&#34;Tapered&#34;</span><span class=p>,</span> <span class=n>catalogueName</span><span class=o>=</span><span class=s2>&#34;30208&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>catalogueType</span><span class=o>=</span><span class=s2>&#34;Explorer&#34;</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>D</span><span class=o>=</span><span class=mi>80</span><span class=p>,</span> <span class=n>B</span><span class=o>=</span><span class=mf>19.75</span><span class=p>,</span> <span class=n>C</span><span class=o>=</span><span class=mf>75.8e3</span><span class=p>,</span> <span class=n>C0</span><span class=o>=</span><span class=mf>68e3</span><span class=p>,</span> <span class=n>Pu</span><span class=o>=</span><span class=mf>7.65e3</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>nr</span><span class=o>=</span><span class=mf>7e3</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>16</span><span class=p>,</span> <span class=n>e</span><span class=o>=</span><span class=mf>0.37</span><span class=p>,</span> <span class=n>X</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y</span><span class=o>=</span><span class=mf>1.6</span><span class=p>,</span> <span class=n>Y0</span><span class=o>=</span><span class=mf>0.9</span><span class=p>,</span> <span class=n>Y1</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>Y2</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>A</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>kr</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>shoulder</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>arr</span><span class=o>=</span><span class=s2>&#34;B2B&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=n>zD</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># F</span>
</span></span><span class=line><span class=cl><span class=n>F</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Support</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>)</span> <span class=c1># Generic bearing for the spindle. Characteristics are irrelevant.</span>
</span></span></code></pre></div><h3 id=output--user--load>Output / User / Load</h3><p>One more step remains before we start defining how all these components interact with each other via <strong>shafts</strong> and <strong>meshes</strong>. This is a relatively simple step where we define a generic compnent that represents the output load produced by the user. If you paid close attention to the locations defined in the previous section, you&rsquo;ll realize there&rsquo;s a $\mathbf{z_{Out}}$ defined which I haven&rsquo;t mentioned before. This is indeed the relative location of the load with respect to shaft <strong>A2</strong>.</p><p>From <a href=#figure-2 rel><strong>Figure 2</strong></a>, we know how this output load is oriented but we don&rsquo;t know its magnitude. It&rsquo;s given as a set of equations (<a href=#figure-15 rel><strong>Figure 15</strong></a>) with respect to other loads that need to be calculated first.</p><figure id=figure-15><img src=figure15_outputLoadEquations.png alt="Output Load Equations" style=max-width:80%;height:auto><figcaption>Figure 15 - Output Load Equations</figcaption></figure><p>Therefore, for the time being, we will only define the component and then update its forces after we perform some initial calculations:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Output Component</span>
</span></span><span class=line><span class=cl><span class=n>output</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Component</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;Output&#34;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=n>zOut</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=shafts--meshes>Shafts & Meshes</h3><p>In this section, we will define our last components. <strong>Shafts</strong> and <strong>Meshes</strong> are special components in <strong>PyGRITbx</strong> because they allow us to define how all the other <em>regular</em> components interact with each other. Moreover, the toolbox calculates the absolute locations of all components (if not already defined) using these special components. So without waiting further, let&rsquo;s start defining these special components.</p><p><strong>- Shaft A1</strong></p><p>I think by now, you got a hint of how the toolbox works: if you want to define a certain component, let&rsquo;s say a shaft, then you&rsquo;d need to type something like <code>pgt.Shaft(...)</code> and identify its characteristics in the parantheses. You wouldn&rsquo;t be wrong to think that; hence, the definition of <strong>A1</strong>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Shaft A1 Definition</span>
</span></span><span class=line><span class=cl><span class=n>A1</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Shaft</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;A1&#34;</span><span class=p>,</span> <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>input_motor</span><span class=p>],</span> <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>R1</span><span class=p>],</span> <span class=n>sups</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=n>A</span><span class=p>,</span> <span class=n>B</span><span class=p>]),</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>              <span class=n>loc</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
</span></span></code></pre></div><p>Some words regarding the shaft&rsquo;s defined parameters:</p><ol><li><strong>name</strong>: this is simply a label that you are free to choose or simply leave empty.</li><li><strong>inputs</strong>: an array of defined objects that represent the input load(s) from the shaft&rsquo;s perspective.</li><li><strong>outputs</strong>: an array of defined objects that represent the output load(s) from the shaft&rsquo;s perspective.</li><li><strong>sups</strong>: an array of defined supports that are supposed to hold the shaft.</li><li><strong>axis</strong>: the unit vector corresponding to the axis around which the shaft rotates.</li><li><strong>loc</strong>: a vector that represents the absolute location of the shaft with respect to the global reference frame.</li><li><strong>material</strong>: a defined material object that holds the material characteristics of the shaft.</li></ol><p>When we execute the code in the previous block, <strong>PyGRITbx</strong> calculates the absolute locations of all the components involed in the definiion: input(s), output(s), and supports.</p><p>Now we can move to our first <strong>mesh</strong> definition.</p><p><strong>- Mesh M1</strong></p><p>To define a mesh, we need to understand which is the driving gear and which is the driven gear. For the mesh between gears <strong>R1</strong> and <strong>R2</strong>, the former is the driving and the latter is the driven. Moreover, we need to understand a property called <em><strong>radiality</strong></em>. Imagine putting your finger on the center of the driving gear, <strong>R1</strong>, then try to move your finger along one axis or two axes to reach the center of the driven gear, <strong>R2</strong>, in the shortest way possible. Which axis or axes did you have to follow? The answer to this question is the radiality array. In our case, to go from gear <strong>R1</strong> to gear <strong>R2</strong>, along the shortest path, you need to move along the <strong>y-axis</strong> in the negative sense; therefore, the radiality is set to <strong>-j</strong>. One last thing to note is that this is an <em><strong>external</strong></em> gear mesh and not an <em><strong>internal</strong></em> gear mesh. Hence, the definition of the mesh can be seen in the following block:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mesh M1 Definition</span>
</span></span><span class=line><span class=cl><span class=n>M1</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>GearMesh</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;M1&#34;</span><span class=p>,</span> <span class=n>drivingGear</span><span class=o>=</span><span class=n>R1</span><span class=p>,</span> <span class=n>drivenGear</span><span class=o>=</span><span class=n>R2</span><span class=p>,</span> <span class=n>radiality</span><span class=o>=</span><span class=p>[</span><span class=o>-</span><span class=n>j</span><span class=p>],</span> <span class=nb>type</span><span class=o>=</span><span class=s2>&#34;External&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Given that the definition of shaft <strong>A1</strong> calculated the absolute location of gear <strong>R1</strong>, with the defintion of mesh <strong>M1</strong> we actually just calculated the absolute location of gear <strong>R2</strong>. This is because <strong>PyGRITbx</strong> already calculated all the necessary properties of the gears (e.g. pitch radius), and using the radiality property, it knows in which direction to go to locate the center of gear <strong>R2</strong> from gear <strong>R1</strong>.</p><p>Now we can define the spindle as another shaft.</p><p><strong>- Spindle P</strong></p><p>Similar to shaft <strong>A1</strong>, spindle <strong>P</strong> would have a <strong>name</strong>, <strong>inputs</strong>, <strong>outputs</strong>, and <strong>sups</strong> properties. For the location? Well, given that we know gear <strong>R2</strong>&rsquo;s relative location with respect to the spindle and that gear <strong>R2</strong>&rsquo;s absolute location has just been calculated by the definition of mesh <strong>M1</strong>, the toolbox will calculate the absolute location of the spindle automatically. As a result, we can define the spindle as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Spindle P Definition</span>
</span></span><span class=line><span class=cl><span class=n>spindleP</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Shaft</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;P&#34;</span><span class=p>,</span> <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>R2</span><span class=p>],</span> <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>R3</span><span class=p>],</span> <span class=n>sups</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=n>F</span><span class=p>,</span> <span class=n>F</span><span class=p>]),</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span></code></pre></div><p>Note that from the spindle&rsquo;s perspective, it receives an input load from gear <strong>R2</strong> (input) and transfers that through gear <strong>R3</strong> (output). The supports are there but we&rsquo;re not required to calculate any reaction forces on them so it doesn&rsquo;t really matter.</p><p><strong>- Mesh M2</strong></p><p>Can you already define mesh <strong>M2</strong> on your own? It&rsquo;s very similar to that of <strong>M1</strong>. I&rsquo;ll give it to you without further explanation and I suggest you try implementing it on your own first:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mesh M2 Definition</span>
</span></span><span class=line><span class=cl><span class=n>M2</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>GearMesh</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;M2&#34;</span><span class=p>,</span> <span class=n>drivingGear</span><span class=o>=</span><span class=n>R3</span><span class=p>,</span> <span class=n>drivenGear</span><span class=o>=</span><span class=n>R4</span><span class=p>,</span> <span class=n>radiality</span><span class=o>=</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=nb>type</span><span class=o>=</span><span class=s2>&#34;External&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>- Shaft A2</strong></p><p>Finally, we come to the last component definition. Similar to <strong>A1</strong>, we will use the <code>pgt.Shaft(...)</code> definition; however, we&rsquo;d only need to define the shaft&rsquo;s material beforehand, similar to how we defined that of the gears:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Shaft A2 Material Properties Definition</span>
</span></span><span class=line><span class=cl><span class=n>shaftMaterial</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Material</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s1>&#39;34NiCrMo6&#39;</span><span class=p>,</span> <span class=n>sigma_u</span><span class=o>=</span><span class=mi>1050</span><span class=p>,</span> <span class=n>sigma_y</span><span class=o>=</span><span class=mi>950</span><span class=p>,</span> <span class=n>sigma_Dm1</span><span class=o>=</span><span class=mi>520</span><span class=p>)</span>
</span></span></code></pre></div><p>The difference is that the shaft&rsquo;s material doesn&rsquo;t have a <em>surface hardness</em> property, and that it has the fatigue limit stress &lsquo;$\boldsymbol{\sigma_{D-1}}$&rsquo; property.</p><p>After that, we can define the shaft as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Shaft A2 Definition</span>
</span></span><span class=line><span class=cl><span class=n>A2</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Shaft</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;A2&#34;</span><span class=p>,</span> <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>R4</span><span class=p>],</span> <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>output</span><span class=p>],</span> <span class=n>sups</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=n>C</span><span class=p>,</span> <span class=n>D</span><span class=p>]),</span> <span class=n>axis</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>              <span class=n>material</span><span class=o>=</span><span class=n>shaftMaterial</span><span class=p>)</span>
</span></span></code></pre></div><p>If you reached this point, <em><strong>CONGRATULATIONS</strong></em>! You&rsquo;ve completed the hardest part of the project and now you can sit there and see the toolbox do its magic calculating all the required forces as we will discover in the next section.</p><h2 id=may-the-forces-resolve-for-you>May the Forces Resolve For You</h2><p>In the previous section, we learnt how to define the components a gearbox is composed of (gears, bearings, shafts, users). We also learnt how to define the interactions between these components using shafts and meshes. Now is the time to harvest some fruits in return: solving for the exchanged forces between components and the reactions produced by the bearings.</p><p>It&rsquo;s important to note that approaching such problems is a sequential process. In other words, if you&rsquo;re solving this project by hand, you would start by the torque equilibrium condition on shaft <strong>A1</strong> around the <strong>z-axis</strong> to get the torque on gear <strong>R1</strong> (in this case, it&rsquo;s the same as the torque produced by the input motor but in the opposite sense). Through the torque, you would then calculate the tangential force acting on gear <strong>R1</strong> by dividing this calculated torque by the pitch radius of the gear. After that, you can use the pressure and helix angles to calculate the resultant force acting on gear <strong>R1</strong> which you can then resolve into the axial and radial directions. From there, you can apply equilibrium equations and equations given by the SKF catalogue to calculate all the reaction forces produced by the bearings.</p><p>Sounds hideous? <em>Yes</em>. How many times did I have to do it in my life? <em>Countless</em>. Hence, the toolbox!</p><h3 id=shaft-a1>Shaft A1</h3><p>Using <strong>PyGRITbx</strong>, you only need to call the function <code>.solve()</code> on shaft <strong>A1</strong> and it will do all of this for you! Through the process, the toolbox will prompt you with some questions. Let&rsquo;s see an example by solving for shaft <strong>A1</strong>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Solving for shaft A1</span>
</span></span><span class=line><span class=cl><span class=n>A1</span><span class=o>.</span><span class=n>solve</span><span class=p>()</span>
</span></span></code></pre></div><p>Once you run the previous block, you&rsquo;ll get the output shown in <a href=#figure-16 rel><strong>Figure 16</strong></a>. <strong>PyGRITbx</strong> first checks the torque equilibrium on the shaft around its rotational axis and, if that&rsquo;s not satisfied, it attempts to resolve it by setting the output torque equal to the input torque but in the opposite sense. If that is done successfully, you&rsquo;ll get the prompt in <a href=#figure-17 rel><strong>Figure 17</strong></a> telling you that a torque has been detected on the output (in this case gear <strong>R1</strong>); therefore, would you like to solve for the torque equilibrium of that component around its rotational axis? In other words, would you like to calculate the forces on gear <strong>R1</strong>? These are the tangential, radial, and axial forces since <strong>R1</strong> is a gear. Therefore, our answer should be <strong>y</strong>.</p><figure id=figure-16><img src=figure16_A1_output_1.png alt="Solving for A1 --> Output 1" style=max-width:100%;height:auto><figcaption>Figure 16 - Solving for A1 --> Output 1</figcaption></figure><figure id=figure-17><img src=figure17_A1_detectedTorquePrompt.png alt="Solving for A1 --> Detected Torque Prompt" style=max-width:100%;height:auto><figcaption>Figure 17 - Solving for A1 --> Detected Toruqe Prompt</figcaption></figure><p>Once you hit enter after inserting <strong>y</strong>, you&rsquo;ll get additional messages informing you that the toolbox is attempting to solve the forces on gear <strong>R1</strong> (<a href=#figure-18 rel><strong>Figure 18</strong></a>). Once an equilibrium is reached on gear <strong>R1</strong>, the toolbox switches its focus back to shaft <strong>A1</strong> and checks its force equilibrium. If the force equilibrium isn&rsquo;t satisfied then you&rsquo;ll get the prompt shown in <a href=#figure-19 rel><strong>Figure 19</strong></a> asking you to solve the reaction forces on the bearings that support the shaft. If you&rsquo;re interested in the reaction forces, then you should enter <strong>y</strong> and hit enter. Otherwise, enter <strong>n</strong> and hit enter. In this case, we are interested so we must enter <strong>y</strong> and hit enter.</p><figure id=figure-18><img src=figure18_A1_output_2.png alt="Solving for A1 --> Output 2" style=max-width:100%;height:auto><figcaption>Figure 18 - Solving for A1 --> Output 2</figcaption></figure><figure id=figure-19><img src=figure19_A1_externalForcesPrompt.png alt="Solving for A1 --> Reaction Forces Prompt" style=max-width:100%;height:auto><figcaption>Figure 19 - Solving for A1 --> Reaction Forces Prompt</figcaption></figure><p>Eventually, the toolbox will calculate the reaction forces produced by the bearings, and it will output the relevant messages to confirm that. Furthermore, in case of tapered roller bearings, it will inform you of the specific case it found to solve the axial forces based on the SKF Catalogue.</p><figure id=figure-20><img src=figure20_A1_output_final.png alt="Solving for A1 --> Final Output" style=max-width:100%;height:auto><figcaption>Figure 20 - Solving for A1 --> Final Prompt</figcaption></figure><p>To see the reaction forces, run the following blocks:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Reaction Forces on Bearing A</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>A</span><span class=o>.</span><span class=n>F_tot</span><span class=o>.</span><span class=n>force</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># output</span>
</span></span><span class=line><span class=cl><span class=c1># [-809.65663399  475.8122391  -865.57152262]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Reaction Forces on Bearing B</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>B</span><span class=o>.</span><span class=n>F_tot</span><span class=o>.</span><span class=n>force</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># output</span>
</span></span><span class=line><span class=cl><span class=c1># [1679.80485557 -812.84590846  548.86347056]</span>
</span></span></code></pre></div><h3 id=gear-r2>Gear R2</h3><p>For gear <strong>R2</strong>, we would like to transmit the forces from gear <strong>R1</strong> to it. Again, we simply use the <code>.solve()</code> function but this time on the gear object <strong>R2</strong>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Solving for Gear R2</span>
</span></span><span class=line><span class=cl><span class=n>R2</span><span class=o>.</span><span class=n>solve</span><span class=p>()</span>
</span></span></code></pre></div><p>Running this block will produce the messages shown in <a href=#figure-21 rel><strong>Figure 21</strong></a>. The toolbox checks the torque equilibrium of gear <strong>R2</strong> around its rotational axis. If that&rsquo;s not satisfied, it checks for the solvability. Particularly, the toolbox goes and looks at the meshes in which gear <strong>R2</strong> is included. If there are torques/forces already resolved in those meshes, then the toolbox will pass them onto the gear.</p><p>Given that we already solved for gear <strong>R1</strong> when we answered yes on the first prompt while solving for shaft <strong>A1</strong>, the toolbox resolved the torque and forces in mesh <strong>M1</strong> in hindsight. Now that we call <code>.solve()</code> on <strong>R2</strong>, the toolbox finds those torque and forces and applies them onto gear <strong>R2</strong>.</p><figure id=figure-21><img src=figure21_R2_output.png alt="Solving for R2" style=max-width:100%;height:auto><figcaption>Figure 21 - Solving for R2</figcaption></figure><h3 id=spindle-p>Spindle P</h3><p>For spindle <strong>P</strong>, we only care about transmitting the load from gear <strong>R2</strong> to gear <strong>R3</strong>. So let&rsquo;s run the following code block:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Solving for Spindle P</span>
</span></span><span class=line><span class=cl><span class=n>spindleP</span><span class=o>.</span><span class=n>solve</span><span class=p>()</span>
</span></span></code></pre></div><p>When prompted with solving the equilibrium for gear <strong>R3</strong>, we should answer <strong>y</strong>. However, when prompted with calculating the reaction forces on the spindle, we should answer <strong>n</strong>. The output messages are shown in <a href=#figure-22 rel><strong>Figure 22</strong></a>.</p><figure id=figure-22><img src=figure22_P_output.png alt="Solving for Spindle P" style=max-width:100%;height:auto><figcaption>Figure 22 - Solving for Spindle P</figcaption></figure><h3 id=gear-r4>Gear R4</h3><p>Now that we solved for gear <strong>R3</strong> via the spindle <strong>P</strong>, we can directly jump to solve for gear <strong>R4</strong> just like we did for gear <strong>R2</strong> after solving shaft <strong>A1</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Solving for Gear R4</span>
</span></span><span class=line><span class=cl><span class=n>R4</span><span class=o>.</span><span class=n>solve</span><span class=p>()</span>
</span></span></code></pre></div><h3 id=output>Output</h3><p>Now that we solved for gear <strong>R4</strong>, we actually have the torque applied on shaft <strong>A2</strong>. Recalling the equations to calculate the forces exerted by output user from <a href=#figure-15 rel><strong>Figure 15</strong></a>, we can actually now set the forces of the output user via the following block:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Calculating the Forces on Output User</span>
</span></span><span class=line><span class=cl><span class=n>Fout_r</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>abs</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>sum</span><span class=p>(</span><span class=n>R4</span><span class=o>.</span><span class=n>ETs</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>torque</span><span class=p>))</span> <span class=o>/</span> <span class=mf>0.1</span> <span class=o>*</span> <span class=n>j</span>
</span></span><span class=line><span class=cl><span class=n>Fout_a</span> <span class=o>=</span> <span class=mf>0.25</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>abs</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>sum</span><span class=p>(</span><span class=n>Fout_r</span><span class=p>))</span> <span class=o>*</span> <span class=p>(</span><span class=o>-</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Fout</span> <span class=o>=</span> <span class=n>pgt</span><span class=o>.</span><span class=n>Force</span><span class=p>(</span><span class=n>force</span><span class=o>=</span><span class=n>Fout_a</span><span class=o>+</span><span class=n>Fout_r</span><span class=p>,</span> <span class=n>loc</span><span class=o>=</span><span class=n>output</span><span class=o>.</span><span class=n>abs_loc</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>A2</span><span class=o>.</span><span class=n>outputs</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>updateEFs</span><span class=p>([</span><span class=n>Fout</span><span class=p>])</span>
</span></span></code></pre></div><p>First, we calculate the radial force. This is equal to the torque on <strong>R4</strong> (equal to torque on <strong>A2</strong>) in the positive <strong>y-axis</strong> direction; hence, the multiplication with the unit vector <strong>j</strong>.</p><p>Second, we calculate the axial force. This is <em><strong>0.25</strong></em> multplied by the radial force but directed in the negatice <strong>z-axis</strong> direction; hence, the multiplication with the unit vector <strong>-k</strong>.</p><p>Third, we define a <strong>Force</strong> via the toolbox whose vector is the sum of the radial and axial forces and location coincides with the absolute location of the output component we defined earlier.</p><p>Finally, we update the forces on the first, and only, output of the shaft <strong>A2</strong>.</p><h3 id=shaft-a2>Shaft A2</h3><p>At this point, we can resolve the forces on shaft <strong>A2</strong> and answer <strong>y</strong> on the prompt regarding the calculation of the reaction forces. We will not get the prompt for solving the equilibrium on the output because in this case the output is NOT a gear but a generic component.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Solving for Shaft A2</span>
</span></span><span class=line><span class=cl><span class=n>A2</span><span class=o>.</span><span class=n>solve</span><span class=p>()</span>
</span></span></code></pre></div><figure id=figure-23><img src=figure23_A2_output.png alt="Solving for Shaft A2" style=max-width:100%;height:auto><figcaption>Figure 23 - Solving for Shaft A2</figcaption></figure><p>To check the reaction forces on the bearings <strong>C</strong> and <strong>D</strong>, we can run the following blocks:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Reaction Forces on Bearing C</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>C</span><span class=o>.</span><span class=n>F_tot</span><span class=o>.</span><span class=n>force</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># output</span>
</span></span><span class=line><span class=cl><span class=c1># [-4712.18425533  -217.84651183 -1474.13035668]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Reaction Forces on Bearing D</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>D</span><span class=o>.</span><span class=n>F_tot</span><span class=o>.</span><span class=n>force</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># output</span>
</span></span><span class=line><span class=cl><span class=c1># [ 1368.98319344 -3345.14448819  3257.97407164]</span>
</span></span></code></pre></div><h2 id=final-words>Final Words</h2><p>If you made it to this point, then you survived my attempt to portray my experience in explaining this exercise that I had taught for several years. Congratulations, mastering this part will help you save time solving this project.</p><p>In short, we analysed the configuration of a given gearbox composed of an input, intermediate, and output shaft. Power is transmitted from the input motor to the output user thanks to the gears mounted on the shafts. All the loads exchanged during the power transfer are supported by the SKF bearings that hold the shafts in place.</p><p>Through this analysis, we were able to define objects representing these components. We also configured the interaction between said components. This allowed us to model the power flow by calculating the loads exhanged between them as well as the reaction forces produced by the bearings.</p><p>With this, we conclude the first part of the gearbox components design verification process via a simple toolbox: <strong>PyGRITbx</strong>. For the next part, we will perform the static and fatigue verification on shaft <strong>A2</strong>. So stay tuned =)</p><h2 id=references>References</h2><ul><li>Richard G. Budynas and J. Keith Nisbett, <em>Shigley&rsquo;s Mechanical Engineering Design</em>, McGraw-Hill, 2006.</li><li>SKF Group, <em>SKF Rolling Bearings Catalogue</em>, SKF. <a href=https://www.skf.com/group/products/rolling-bearings target=_blank rel="noopener noreffer">SKF Rolling Bearings</a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2026-01-31</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://ragheedhuneineh.com/posts/pygritbx_tutorial1/ data-title="PyGRITbx - Tutorial Series Part 1: May The Forces Resolve for You" data-hashtags="Machine Design"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://ragheedhuneineh.com/posts/pygritbx_tutorial1/ data-hashtag="Machine Design"><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://ragheedhuneineh.com/posts/pygritbx_tutorial1/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://ragheedhuneineh.com/posts/pygritbx_tutorial1/ data-title="PyGRITbx - Tutorial Series Part 1: May The Forces Resolve for You" data-web><i class="fab fa-whatsapp fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/machine-design/>Machine Design</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/intro/ class=prev rel=prev title=Intro><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Intro</a>
<a href=/posts/pygritbx_tutorial2/ class=next rel=next title="PyGRITbx - Tutorial Series Part 2: No Pain No Gain, No Stress No Strain">PyGRITbx - Tutorial Series Part 2: No Pain No Gain, No Stress No Strain<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-S705DMHLRY",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-S705DMHLRY" async></script></body></html>